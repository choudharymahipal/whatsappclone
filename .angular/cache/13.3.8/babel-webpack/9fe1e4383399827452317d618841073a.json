{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Input, Output, PLATFORM_ID, Injectable, Inject, ViewChild, ViewChildren, NgModule } from '@angular/core';\nimport * as i3 from '@angular/common';\nimport { isPlatformBrowser, CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport * as i1 from '@ctrl/ngx-emoji-mart/ngx-emoji';\nimport { categories as categories$1, EmojiModule } from '@ctrl/ngx-emoji-mart/ngx-emoji';\nimport * as i2 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\n\nfunction AnchorsComponent_ng_template_1_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 3);\n    i0.ɵɵlistener(\"click\", function AnchorsComponent_ng_template_1_span_0_Template_span_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const idx_r2 = i0.ɵɵnextContext().index;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.handleClick($event, idx_r2);\n    });\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 4);\n    i0.ɵɵelement(3, \"path\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelement(4, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const category_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"color\", category_r1.name === ctx_r3.selected ? ctx_r3.color : null);\n    i0.ɵɵclassProp(\"emoji-mart-anchor-selected\", category_r1.name === ctx_r3.selected);\n    i0.ɵɵattribute(\"title\", ctx_r3.i18n.categories[category_r1.id]);\n    i0.ɵɵadvance(3);\n    i0.ɵɵattribute(\"d\", ctx_r3.icons[category_r1.id]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-color\", ctx_r3.color);\n  }\n}\n\nfunction AnchorsComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, AnchorsComponent_ng_template_1_span_0_Template, 5, 8, \"span\", 2);\n  }\n\n  if (rf & 2) {\n    const category_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngIf\", category_r1.anchor !== false);\n  }\n}\n\nconst _c0 = [\"container\"];\nconst _c1 = [\"label\"];\n\nfunction CategoryComponent_div_6_div_1_ngx_emoji_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ngx-emoji\", 9);\n    i0.ɵɵlistener(\"emojiOver\", function CategoryComponent_div_6_div_1_ngx_emoji_1_Template_ngx_emoji_emojiOver_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return ctx_r10.emojiOver.emit($event);\n    })(\"emojiLeave\", function CategoryComponent_div_6_div_1_ngx_emoji_1_Template_ngx_emoji_emojiLeave_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext(3);\n      return ctx_r12.emojiLeave.emit($event);\n    })(\"emojiClick\", function CategoryComponent_div_6_div_1_ngx_emoji_1_Template_ngx_emoji_emojiClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext(3);\n      return ctx_r13.emojiClick.emit($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const emoji_r9 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"emoji\", emoji_r9)(\"size\", ctx_r8.emojiSize)(\"skin\", ctx_r8.emojiSkin)(\"isNative\", ctx_r8.emojiIsNative)(\"set\", ctx_r8.emojiSet)(\"sheetSize\", ctx_r8.emojiSheetSize)(\"forceSize\", ctx_r8.emojiForceSize)(\"tooltip\", ctx_r8.emojiTooltip)(\"backgroundImageFn\", ctx_r8.emojiBackgroundImageFn)(\"imageUrlFn\", ctx_r8.emojiImageUrlFn)(\"hideObsolete\", ctx_r8.hideObsolete)(\"useButton\", ctx_r8.emojiUseButton);\n  }\n}\n\nfunction CategoryComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CategoryComponent_div_6_div_1_ngx_emoji_1_Template, 1, 12, \"ngx-emoji\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const filteredEmojis_r7 = ctx.ngIf;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", filteredEmojis_r7)(\"ngForTrackBy\", ctx_r6.trackById);\n  }\n}\n\nfunction CategoryComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CategoryComponent_div_6_div_1_Template, 2, 2, \"div\", 6);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r2.filteredEmojis$));\n  }\n}\n\nfunction CategoryComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\");\n    i0.ɵɵelement(2, \"ngx-emoji\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 11);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"emoji\", ctx_r3.notFoundEmoji)(\"size\", 38)(\"skin\", ctx_r3.emojiSkin)(\"isNative\", ctx_r3.emojiIsNative)(\"set\", ctx_r3.emojiSet)(\"sheetSize\", ctx_r3.emojiSheetSize)(\"forceSize\", ctx_r3.emojiForceSize)(\"tooltip\", ctx_r3.emojiTooltip)(\"backgroundImageFn\", ctx_r3.emojiBackgroundImageFn)(\"useButton\", ctx_r3.emojiUseButton);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.i18n.notfound, \" \");\n  }\n}\n\nfunction CategoryComponent_ng_template_8_ngx_emoji_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ngx-emoji\", 9);\n    i0.ɵɵlistener(\"emojiOver\", function CategoryComponent_ng_template_8_ngx_emoji_0_Template_ngx_emoji_emojiOver_0_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return ctx_r16.emojiOver.emit($event);\n    })(\"emojiLeave\", function CategoryComponent_ng_template_8_ngx_emoji_0_Template_ngx_emoji_emojiLeave_0_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return ctx_r18.emojiLeave.emit($event);\n    })(\"emojiClick\", function CategoryComponent_ng_template_8_ngx_emoji_0_Template_ngx_emoji_emojiClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return ctx_r19.emojiClick.emit($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const emoji_r15 = ctx.$implicit;\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"emoji\", emoji_r15)(\"size\", ctx_r14.emojiSize)(\"skin\", ctx_r14.emojiSkin)(\"isNative\", ctx_r14.emojiIsNative)(\"set\", ctx_r14.emojiSet)(\"sheetSize\", ctx_r14.emojiSheetSize)(\"forceSize\", ctx_r14.emojiForceSize)(\"tooltip\", ctx_r14.emojiTooltip)(\"backgroundImageFn\", ctx_r14.emojiBackgroundImageFn)(\"imageUrlFn\", ctx_r14.emojiImageUrlFn)(\"hideObsolete\", ctx_r14.hideObsolete)(\"useButton\", ctx_r14.emojiUseButton);\n  }\n}\n\nfunction CategoryComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CategoryComponent_ng_template_8_ngx_emoji_0_Template, 1, 12, \"ngx-emoji\", 8);\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.emojisToDisplay)(\"ngForTrackBy\", ctx_r5.trackById);\n  }\n}\n\nfunction SkinComponent_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 2)(1, \"span\", 3);\n    i0.ɵɵlistener(\"click\", function SkinComponent_span_1_Template_span_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const skinTone_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.handleClick(skinTone_r1);\n    })(\"keyup.enter\", function SkinComponent_span_1_Template_span_keyup_enter_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const skinTone_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.handleClick(skinTone_r1);\n    })(\"keyup.space\", function SkinComponent_span_1_Template_span_keyup_space_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const skinTone_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.handleClick(skinTone_r1);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const skinTone_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"selected\", skinTone_r1 === ctx_r0.skin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"emoji-mart-skin emoji-mart-skin-tone-\", skinTone_r1, \"\");\n    i0.ɵɵproperty(\"tabIndex\", ctx_r0.tabIndex(skinTone_r1))(\"title\", ctx_r0.i18n.skintones[skinTone_r1]);\n    i0.ɵɵattribute(\"aria-hidden\", !ctx_r0.isVisible(skinTone_r1))(\"aria-pressed\", ctx_r0.pressed(skinTone_r1))(\"aria-haspopup\", !!ctx_r0.isSelected(skinTone_r1))(\"aria-expanded\", ctx_r0.expanded(skinTone_r1))(\"aria-label\", ctx_r0.i18n.skintones[skinTone_r1]);\n  }\n}\n\nfunction PreviewComponent_div_0_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const short_name_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" :\", short_name_r4, \": \");\n  }\n}\n\nfunction PreviewComponent_div_0_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const emoticon_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", emoticon_r5, \" \");\n  }\n}\n\nfunction PreviewComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 2);\n    i0.ɵɵelement(2, \"ngx-emoji\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"div\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 11);\n    i0.ɵɵtemplate(7, PreviewComponent_div_0_span_7_Template, 2, 1, \"span\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 13);\n    i0.ɵɵtemplate(9, PreviewComponent_div_0_span_9_Template, 2, 1, \"span\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"emoji\", ctx_r0.emoji)(\"size\", 38)(\"isNative\", ctx_r0.emojiIsNative)(\"skin\", ctx_r0.emojiSkin)(\"size\", ctx_r0.emojiSize)(\"set\", ctx_r0.emojiSet)(\"sheetSize\", ctx_r0.emojiSheetSize)(\"backgroundImageFn\", ctx_r0.emojiBackgroundImageFn)(\"imageUrlFn\", ctx_r0.emojiImageUrlFn);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.emojiData.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.emojiData.shortNames);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.listedEmoticons);\n  }\n}\n\nfunction PreviewComponent_ngx_emoji_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ngx-emoji\", 16);\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isNative\", ctx_r1.emojiIsNative)(\"skin\", ctx_r1.emojiSkin)(\"set\", ctx_r1.emojiSet)(\"emoji\", ctx_r1.idleEmoji)(\"backgroundImageFn\", ctx_r1.emojiBackgroundImageFn)(\"size\", 38)(\"imageUrlFn\", ctx_r1.emojiImageUrlFn);\n  }\n}\n\nconst _c2 = [\"inputRef\"];\nconst _c3 = [\"scrollRef\"];\n\nfunction PickerComponent_emoji_search_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"emoji-search\", 8);\n    i0.ɵɵlistener(\"searchResults\", function PickerComponent_emoji_search_3_Template_emoji_search_searchResults_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.handleSearch($event);\n    })(\"enterKey\", function PickerComponent_emoji_search_3_Template_emoji_search_enterKey_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.handleEnterKey($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"i18n\", ctx_r0.i18n)(\"include\", ctx_r0.include)(\"exclude\", ctx_r0.exclude)(\"custom\", ctx_r0.custom)(\"autoFocus\", ctx_r0.autoFocus)(\"icons\", ctx_r0.searchIcons)(\"emojisToShowFilter\", ctx_r0.emojisToShowFilter);\n  }\n}\n\nfunction PickerComponent_emoji_category_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"emoji-category\", 9);\n    i0.ɵɵlistener(\"emojiOver\", function PickerComponent_emoji_category_6_Template_emoji_category_emojiOver_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.handleEmojiOver($event);\n    })(\"emojiLeave\", function PickerComponent_emoji_category_6_Template_emoji_category_emojiLeave_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.handleEmojiLeave();\n    })(\"emojiClick\", function PickerComponent_emoji_category_6_Template_emoji_category_emojiClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.handleEmojiClick($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const category_r7 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"id\", category_r7.id)(\"name\", category_r7.name)(\"emojis\", category_r7.emojis)(\"perLine\", ctx_r2.perLine)(\"totalFrequentLines\", ctx_r2.totalFrequentLines)(\"hasStickyPosition\", ctx_r2.isNative)(\"i18n\", ctx_r2.i18n)(\"hideObsolete\", ctx_r2.hideObsolete)(\"notFoundEmoji\", ctx_r2.notFoundEmoji)(\"custom\", category_r7.id === ctx_r2.RECENT_CATEGORY.id ? ctx_r2.CUSTOM_CATEGORY.emojis : undefined)(\"recent\", category_r7.id === ctx_r2.RECENT_CATEGORY.id ? ctx_r2.recent : undefined)(\"virtualize\", ctx_r2.virtualize)(\"virtualizeOffset\", ctx_r2.virtualizeOffset)(\"emojiIsNative\", ctx_r2.isNative)(\"emojiSkin\", ctx_r2.skin)(\"emojiSize\", ctx_r2.emojiSize)(\"emojiSet\", ctx_r2.set)(\"emojiSheetSize\", ctx_r2.sheetSize)(\"emojiForceSize\", ctx_r2.isNative)(\"emojiTooltip\", ctx_r2.emojiTooltip)(\"emojiBackgroundImageFn\", ctx_r2.backgroundImageFn)(\"emojiImageUrlFn\", ctx_r2.imageUrlFn)(\"emojiUseButton\", ctx_r2.useButton);\n  }\n}\n\nfunction PickerComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"emoji-preview\", 10);\n    i0.ɵɵlistener(\"skinChange\", function PickerComponent_div_7_Template_emoji_preview_skinChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.handleSkinChange($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"title\", ctx_r3.title)(\"emoji\", ctx_r3.previewEmoji)(\"idleEmoji\", ctx_r3.emoji)(\"emojiIsNative\", ctx_r3.isNative)(\"emojiSize\", 38)(\"emojiSkin\", ctx_r3.skin)(\"emojiSet\", ctx_r3.set)(\"i18n\", ctx_r3.i18n)(\"emojiSheetSize\", ctx_r3.sheetSize)(\"emojiBackgroundImageFn\", ctx_r3.backgroundImageFn)(\"emojiImageUrlFn\", ctx_r3.imageUrlFn);\n  }\n}\n\nclass AnchorsComponent {\n  constructor() {\n    this.categories = [];\n    this.icons = {};\n    this.anchorClick = new EventEmitter();\n  }\n\n  trackByFn(idx, cat) {\n    return cat.id;\n  }\n\n  handleClick($event, index) {\n    this.anchorClick.emit({\n      category: this.categories[index],\n      index\n    });\n  }\n\n}\n\nAnchorsComponent.ɵfac = function AnchorsComponent_Factory(t) {\n  return new (t || AnchorsComponent)();\n};\n\nAnchorsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: AnchorsComponent,\n  selectors: [[\"emoji-mart-anchors\"]],\n  inputs: {\n    categories: \"categories\",\n    color: \"color\",\n    selected: \"selected\",\n    i18n: \"i18n\",\n    icons: \"icons\"\n  },\n  outputs: {\n    anchorClick: \"anchorClick\"\n  },\n  decls: 2,\n  vars: 2,\n  consts: [[1, \"emoji-mart-anchors\"], [\"ngFor\", \"\", 3, \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"emoji-mart-anchor\", 3, \"emoji-mart-anchor-selected\", \"color\", \"click\", 4, \"ngIf\"], [1, \"emoji-mart-anchor\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 24 24\", \"width\", \"24\", \"height\", \"24\"], [1, \"emoji-mart-anchor-bar\"]],\n  template: function AnchorsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, AnchorsComponent_ng_template_1_Template, 1, 1, \"ng-template\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories)(\"ngForTrackBy\", ctx.trackByFn);\n    }\n  },\n  directives: [i3.NgForOf, i3.NgIf],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnchorsComponent, [{\n    type: Component,\n    args: [{\n      selector: 'emoji-mart-anchors',\n      template: `\n  <div class=\"emoji-mart-anchors\">\n    <ng-template ngFor let-category [ngForOf]=\"categories\" let-idx=\"index\" [ngForTrackBy]=\"trackByFn\">\n      <span\n        *ngIf=\"category.anchor !== false\"\n        [attr.title]=\"i18n.categories[category.id]\"\n        (click)=\"this.handleClick($event, idx)\"\n        class=\"emoji-mart-anchor\"\n        [class.emoji-mart-anchor-selected]=\"category.name === selected\"\n        [style.color]=\"category.name === selected ? color : null\"\n      >\n        <div>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n            <path [attr.d]=\"icons[category.id]\" />\n          </svg>\n        </div>\n        <span class=\"emoji-mart-anchor-bar\" [style.background-color]=\"color\"></span>\n      </span>\n    </ng-template>\n  </div>\n  `,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      preserveWhitespaces: false\n    }]\n  }], null, {\n    categories: [{\n      type: Input\n    }],\n    color: [{\n      type: Input\n    }],\n    selected: [{\n      type: Input\n    }],\n    i18n: [{\n      type: Input\n    }],\n    icons: [{\n      type: Input\n    }],\n    anchorClick: [{\n      type: Output\n    }]\n  });\n})();\n\nclass EmojiFrequentlyService {\n  constructor(platformId) {\n    this.platformId = platformId;\n    this.NAMESPACE = 'emoji-mart';\n    this.frequently = null;\n    this.defaults = {};\n    this.initialized = false;\n    this.DEFAULTS = ['+1', 'grinning', 'kissing_heart', 'heart_eyes', 'laughing', 'stuck_out_tongue_winking_eye', 'sweat_smile', 'joy', 'scream', 'disappointed', 'unamused', 'weary', 'sob', 'sunglasses', 'heart', 'poop'];\n  }\n\n  init() {\n    this.frequently = JSON.parse(isPlatformBrowser(this.platformId) && localStorage.getItem(`${this.NAMESPACE}.frequently`) || 'null');\n    this.initialized = true;\n  }\n\n  add(emoji) {\n    if (!this.initialized) {\n      this.init();\n    }\n\n    if (!this.frequently) {\n      this.frequently = this.defaults;\n    }\n\n    if (!this.frequently[emoji.id]) {\n      this.frequently[emoji.id] = 0;\n    }\n\n    this.frequently[emoji.id] += 1;\n\n    if (isPlatformBrowser(this.platformId)) {\n      localStorage.setItem(`${this.NAMESPACE}.last`, emoji.id);\n      localStorage.setItem(`${this.NAMESPACE}.frequently`, JSON.stringify(this.frequently));\n    }\n  }\n\n  get(perLine, totalLines) {\n    if (!this.initialized) {\n      this.init();\n    }\n\n    if (this.frequently === null) {\n      this.defaults = {};\n      const result = [];\n\n      for (let i = 0; i < perLine; i++) {\n        this.defaults[this.DEFAULTS[i]] = perLine - i;\n        result.push(this.DEFAULTS[i]);\n      }\n\n      return result;\n    }\n\n    const quantity = perLine * totalLines;\n    const frequentlyKeys = Object.keys(this.frequently);\n    const sorted = frequentlyKeys.sort((a, b) => this.frequently[a] - this.frequently[b]).reverse();\n    const sliced = sorted.slice(0, quantity);\n    const last = isPlatformBrowser(this.platformId) && localStorage.getItem(`${this.NAMESPACE}.last`);\n\n    if (last && !sliced.includes(last)) {\n      sliced.pop();\n      sliced.push(last);\n    }\n\n    return sliced;\n  }\n\n}\n\nEmojiFrequentlyService.ɵfac = function EmojiFrequentlyService_Factory(t) {\n  return new (t || EmojiFrequentlyService)(i0.ɵɵinject(PLATFORM_ID));\n};\n\nEmojiFrequentlyService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: EmojiFrequentlyService,\n  factory: EmojiFrequentlyService.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(EmojiFrequentlyService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }];\n  }, null);\n})();\n\nclass CategoryComponent {\n  constructor(ref, emojiService, frequently) {\n    this.ref = ref;\n    this.emojiService = emojiService;\n    this.frequently = frequently;\n    this.emojis = null;\n    this.hasStickyPosition = true;\n    this.name = '';\n    this.perLine = 9;\n    this.totalFrequentLines = 4;\n    this.recent = [];\n    this.custom = [];\n    this.hideObsolete = true;\n    this.virtualize = false;\n    this.virtualizeOffset = 0;\n    this.emojiOver = new EventEmitter();\n    this.emojiLeave = new EventEmitter();\n    this.emojiClick = new EventEmitter();\n    this.containerStyles = {};\n    this.emojisToDisplay = [];\n    this.filteredEmojisSubject = new Subject();\n    this.filteredEmojis$ = this.filteredEmojisSubject.asObservable();\n    this.labelStyles = {};\n    this.labelSpanStyles = {};\n    this.margin = 0;\n    this.minMargin = 0;\n    this.maxMargin = 0;\n    this.top = 0;\n    this.rows = 0;\n  }\n\n  ngOnInit() {\n    this.updateRecentEmojis();\n    this.emojisToDisplay = this.filterEmojis();\n\n    if (this.noEmojiToDisplay) {\n      this.containerStyles = {\n        display: 'none'\n      };\n    }\n\n    if (!this.hasStickyPosition) {\n      this.labelStyles = {\n        height: 28\n      }; // this.labelSpanStyles = { position: 'absolute' };\n    }\n  }\n\n  ngOnChanges(changes) {\n    var _a, _b, _c, _d;\n\n    if (((_b = (_a = changes.emojis) === null || _a === void 0 ? void 0 : _a.currentValue) === null || _b === void 0 ? void 0 : _b.length) !== ((_d = (_c = changes.emojis) === null || _c === void 0 ? void 0 : _c.previousValue) === null || _d === void 0 ? void 0 : _d.length)) {\n      this.emojisToDisplay = this.filterEmojis();\n      this.ngAfterViewInit();\n    }\n  }\n\n  ngAfterViewInit() {\n    var _a;\n\n    if (!this.virtualize) {\n      return;\n    }\n\n    const {\n      width\n    } = this.container.nativeElement.getBoundingClientRect();\n    const perRow = Math.floor(width / (this.emojiSize + 12));\n    this.rows = Math.ceil(this.emojisToDisplay.length / perRow);\n    this.containerStyles = Object.assign(Object.assign({}, this.containerStyles), {\n      minHeight: `${this.rows * (this.emojiSize + 12) + 28}px`\n    });\n    (_a = this.ref) === null || _a === void 0 ? void 0 : _a.detectChanges();\n    this.handleScroll(this.container.nativeElement.parentNode.parentNode.scrollTop);\n  }\n\n  get noEmojiToDisplay() {\n    return this.emojisToDisplay.length === 0;\n  }\n\n  memoizeSize() {\n    const parent = this.container.nativeElement.parentNode.parentNode;\n    const {\n      top,\n      height\n    } = this.container.nativeElement.getBoundingClientRect();\n    const parentTop = parent.getBoundingClientRect().top;\n    const labelHeight = this.label.nativeElement.getBoundingClientRect().height;\n    this.top = top - parentTop + parent.scrollTop;\n\n    if (height === 0) {\n      this.maxMargin = 0;\n    } else {\n      this.maxMargin = height - labelHeight;\n    }\n  }\n\n  handleScroll(scrollTop) {\n    let margin = scrollTop - this.top;\n    margin = margin < this.minMargin ? this.minMargin : margin;\n    margin = margin > this.maxMargin ? this.maxMargin : margin;\n\n    if (this.virtualize) {\n      const {\n        top,\n        height\n      } = this.container.nativeElement.getBoundingClientRect();\n      const parentHeight = this.container.nativeElement.parentNode.parentNode.clientHeight;\n\n      if (parentHeight + (parentHeight + this.virtualizeOffset) >= top && -height - (parentHeight + this.virtualizeOffset) <= top) {\n        this.filteredEmojisSubject.next(this.emojisToDisplay);\n      } else {\n        this.filteredEmojisSubject.next([]);\n      }\n    }\n\n    if (margin === this.margin) {\n      this.ref.detectChanges();\n      return false;\n    }\n\n    if (!this.hasStickyPosition) {\n      this.label.nativeElement.style.top = `${margin}px`;\n    }\n\n    this.margin = margin;\n    this.ref.detectChanges();\n    return true;\n  }\n\n  updateRecentEmojis() {\n    if (this.name !== 'Recent') {\n      return;\n    }\n\n    let frequentlyUsed = this.recent || this.frequently.get(this.perLine, this.totalFrequentLines);\n\n    if (!frequentlyUsed || !frequentlyUsed.length) {\n      frequentlyUsed = this.frequently.get(this.perLine, this.totalFrequentLines);\n    }\n\n    if (!frequentlyUsed.length) {\n      return;\n    }\n\n    this.emojis = frequentlyUsed.map(id => {\n      const emoji = this.custom.filter(e => e.id === id)[0];\n\n      if (emoji) {\n        return emoji;\n      }\n\n      return id;\n    }).filter(id => !!this.emojiService.getData(id));\n  }\n\n  updateDisplay(display) {\n    this.containerStyles.display = display;\n    this.updateRecentEmojis();\n    this.ref.detectChanges();\n  }\n\n  trackById(index, item) {\n    return item;\n  }\n\n  filterEmojis() {\n    const newEmojis = [];\n\n    for (const emoji of this.emojis || []) {\n      if (!emoji) {\n        continue;\n      }\n\n      const data = this.emojiService.getData(emoji);\n\n      if (!data || data.obsoletedBy && this.hideObsolete || !data.unified && !data.custom) {\n        continue;\n      }\n\n      newEmojis.push(emoji);\n    }\n\n    return newEmojis;\n  }\n\n}\n\nCategoryComponent.ɵfac = function CategoryComponent_Factory(t) {\n  return new (t || CategoryComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.EmojiService), i0.ɵɵdirectiveInject(EmojiFrequentlyService));\n};\n\nCategoryComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: CategoryComponent,\n  selectors: [[\"emoji-category\"]],\n  viewQuery: function CategoryComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n      i0.ɵɵviewQuery(_c1, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.container = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.label = _t.first);\n    }\n  },\n  inputs: {\n    emojis: \"emojis\",\n    hasStickyPosition: \"hasStickyPosition\",\n    name: \"name\",\n    perLine: \"perLine\",\n    totalFrequentLines: \"totalFrequentLines\",\n    recent: \"recent\",\n    custom: \"custom\",\n    i18n: \"i18n\",\n    id: \"id\",\n    hideObsolete: \"hideObsolete\",\n    notFoundEmoji: \"notFoundEmoji\",\n    virtualize: \"virtualize\",\n    virtualizeOffset: \"virtualizeOffset\",\n    emojiIsNative: \"emojiIsNative\",\n    emojiSkin: \"emojiSkin\",\n    emojiSize: \"emojiSize\",\n    emojiSet: \"emojiSet\",\n    emojiSheetSize: \"emojiSheetSize\",\n    emojiForceSize: \"emojiForceSize\",\n    emojiTooltip: \"emojiTooltip\",\n    emojiBackgroundImageFn: \"emojiBackgroundImageFn\",\n    emojiImageUrlFn: \"emojiImageUrlFn\",\n    emojiUseButton: \"emojiUseButton\"\n  },\n  outputs: {\n    emojiOver: \"emojiOver\",\n    emojiLeave: \"emojiLeave\",\n    emojiClick: \"emojiClick\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 10,\n  vars: 11,\n  consts: [[1, \"emoji-mart-category\", 3, \"ngStyle\"], [\"container\", \"\"], [1, \"emoji-mart-category-label\", 3, \"ngStyle\"], [\"aria-hidden\", \"true\", 3, \"ngStyle\"], [\"label\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [4, \"ngIf\"], [\"normalRenderTemplate\", \"\"], [3, \"emoji\", \"size\", \"skin\", \"isNative\", \"set\", \"sheetSize\", \"forceSize\", \"tooltip\", \"backgroundImageFn\", \"imageUrlFn\", \"hideObsolete\", \"useButton\", \"emojiOver\", \"emojiLeave\", \"emojiClick\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"emoji\", \"size\", \"skin\", \"isNative\", \"set\", \"sheetSize\", \"forceSize\", \"tooltip\", \"backgroundImageFn\", \"imageUrlFn\", \"hideObsolete\", \"useButton\", \"emojiOver\", \"emojiLeave\", \"emojiClick\"], [3, \"emoji\", \"size\", \"skin\", \"isNative\", \"set\", \"sheetSize\", \"forceSize\", \"tooltip\", \"backgroundImageFn\", \"useButton\"], [1, \"emoji-mart-no-results-label\"]],\n  template: function CategoryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0, 1)(2, \"div\", 2)(3, \"span\", 3, 4);\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(6, CategoryComponent_div_6_Template, 3, 3, \"div\", 5);\n      i0.ɵɵtemplate(7, CategoryComponent_div_7_Template, 5, 11, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, CategoryComponent_ng_template_8_Template, 1, 2, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r4 = i0.ɵɵreference(9);\n\n      i0.ɵɵclassProp(\"emoji-mart-no-results\", ctx.noEmojiToDisplay);\n      i0.ɵɵproperty(\"ngStyle\", ctx.containerStyles);\n      i0.ɵɵattribute(\"aria-label\", ctx.i18n.categories[ctx.id]);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngStyle\", ctx.labelStyles);\n      i0.ɵɵattribute(\"data-name\", ctx.name);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngStyle\", ctx.labelSpanStyles);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.i18n.categories[ctx.id], \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.virtualize)(\"ngIfElse\", _r4);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.noEmojiToDisplay);\n    }\n  },\n  directives: [i1.EmojiComponent, i3.NgStyle, i3.NgIf, i3.NgForOf],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(CategoryComponent, [{\n    type: Component,\n    args: [{\n      selector: 'emoji-category',\n      template: `\n    <section\n      #container\n      class=\"emoji-mart-category\"\n      [attr.aria-label]=\"i18n.categories[id]\"\n      [class.emoji-mart-no-results]=\"noEmojiToDisplay\"\n      [ngStyle]=\"containerStyles\"\n    >\n      <div class=\"emoji-mart-category-label\" [ngStyle]=\"labelStyles\" [attr.data-name]=\"name\">\n        <!-- already labeled by the section aria-label -->\n        <span #label [ngStyle]=\"labelSpanStyles\" aria-hidden=\"true\">\n          {{ i18n.categories[id] }}\n        </span>\n      </div>\n\n      <div\n        *ngIf=\"virtualize; else normalRenderTemplate\"\n      >\n        <div *ngIf=\"filteredEmojis$ | async as filteredEmojis\">\n          <ngx-emoji\n            *ngFor=\"let emoji of filteredEmojis; trackBy: trackById\"\n            [emoji]=\"emoji\"\n            [size]=\"emojiSize\"\n            [skin]=\"emojiSkin\"\n            [isNative]=\"emojiIsNative\"\n            [set]=\"emojiSet\"\n            [sheetSize]=\"emojiSheetSize\"\n            [forceSize]=\"emojiForceSize\"\n            [tooltip]=\"emojiTooltip\"\n            [backgroundImageFn]=\"emojiBackgroundImageFn\"\n            [imageUrlFn]=\"emojiImageUrlFn\"\n            [hideObsolete]=\"hideObsolete\"\n            [useButton]=\"emojiUseButton\"\n            (emojiOver)=\"emojiOver.emit($event)\"\n            (emojiLeave)=\"emojiLeave.emit($event)\"\n            (emojiClick)=\"emojiClick.emit($event)\"\n          ></ngx-emoji>\n        </div>\n      </div>\n\n      <div *ngIf=\"noEmojiToDisplay\">\n        <div>\n          <ngx-emoji\n            [emoji]=\"notFoundEmoji\"\n            [size]=\"38\"\n            [skin]=\"emojiSkin\"\n            [isNative]=\"emojiIsNative\"\n            [set]=\"emojiSet\"\n            [sheetSize]=\"emojiSheetSize\"\n            [forceSize]=\"emojiForceSize\"\n            [tooltip]=\"emojiTooltip\"\n            [backgroundImageFn]=\"emojiBackgroundImageFn\"\n            [useButton]=\"emojiUseButton\"\n          ></ngx-emoji>\n        </div>\n\n        <div class=\"emoji-mart-no-results-label\">\n          {{ i18n.notfound }}\n        </div>\n      </div>\n    </section>\n\n    <ng-template #normalRenderTemplate>\n        <ngx-emoji\n          *ngFor=\"let emoji of emojisToDisplay; trackBy: trackById\"\n          [emoji]=\"emoji\"\n          [size]=\"emojiSize\"\n          [skin]=\"emojiSkin\"\n          [isNative]=\"emojiIsNative\"\n          [set]=\"emojiSet\"\n          [sheetSize]=\"emojiSheetSize\"\n          [forceSize]=\"emojiForceSize\"\n          [tooltip]=\"emojiTooltip\"\n          [backgroundImageFn]=\"emojiBackgroundImageFn\"\n          [imageUrlFn]=\"emojiImageUrlFn\"\n          [hideObsolete]=\"hideObsolete\"\n          [useButton]=\"emojiUseButton\"\n          (emojiOver)=\"emojiOver.emit($event)\"\n          (emojiLeave)=\"emojiLeave.emit($event)\"\n          (emojiClick)=\"emojiClick.emit($event)\"\n        ></ngx-emoji>\n    </ng-template>\n  `,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      preserveWhitespaces: false\n    }]\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1.EmojiService\n    }, {\n      type: EmojiFrequentlyService\n    }];\n  }, {\n    emojis: [{\n      type: Input\n    }],\n    hasStickyPosition: [{\n      type: Input\n    }],\n    name: [{\n      type: Input\n    }],\n    perLine: [{\n      type: Input\n    }],\n    totalFrequentLines: [{\n      type: Input\n    }],\n    recent: [{\n      type: Input\n    }],\n    custom: [{\n      type: Input\n    }],\n    i18n: [{\n      type: Input\n    }],\n    id: [{\n      type: Input\n    }],\n    hideObsolete: [{\n      type: Input\n    }],\n    notFoundEmoji: [{\n      type: Input\n    }],\n    virtualize: [{\n      type: Input\n    }],\n    virtualizeOffset: [{\n      type: Input\n    }],\n    emojiIsNative: [{\n      type: Input\n    }],\n    emojiSkin: [{\n      type: Input\n    }],\n    emojiSize: [{\n      type: Input\n    }],\n    emojiSet: [{\n      type: Input\n    }],\n    emojiSheetSize: [{\n      type: Input\n    }],\n    emojiForceSize: [{\n      type: Input\n    }],\n    emojiTooltip: [{\n      type: Input\n    }],\n    emojiBackgroundImageFn: [{\n      type: Input\n    }],\n    emojiImageUrlFn: [{\n      type: Input\n    }],\n    emojiUseButton: [{\n      type: Input\n    }],\n    emojiOver: [{\n      type: Output\n    }],\n    emojiLeave: [{\n      type: Output\n    }],\n    emojiClick: [{\n      type: Output\n    }],\n    container: [{\n      type: ViewChild,\n      args: ['container', {\n        static: true\n      }]\n    }],\n    label: [{\n      type: ViewChild,\n      args: ['label', {\n        static: true\n      }]\n    }]\n  });\n})();\n\nfunction uniq(arr) {\n  return arr.reduce((acc, item) => {\n    if (!acc.includes(item)) {\n      acc.push(item);\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction intersect(a, b) {\n  const uniqA = uniq(a);\n  const uniqB = uniq(b);\n  return uniqA.filter(item => uniqB.indexOf(item) >= 0);\n} // https://github.com/sonicdoe/measure-scrollbar\n\n\nfunction measureScrollbar() {\n  if (typeof document === 'undefined') {\n    return 0;\n  }\n\n  const div = document.createElement('div');\n  div.style.width = '100px';\n  div.style.height = '100px';\n  div.style.overflow = 'scroll';\n  div.style.position = 'absolute';\n  div.style.top = '-9999px';\n  document.body.appendChild(div);\n  const scrollbarWidth = div.offsetWidth - div.clientWidth;\n  document.body.removeChild(div);\n  return scrollbarWidth;\n}\n\nclass EmojiSearch {\n  constructor(emojiService) {\n    this.emojiService = emojiService;\n    this.originalPool = {};\n    this.index = {};\n    this.emojisList = {};\n    this.emoticonsList = {};\n    this.emojiSearch = {};\n\n    for (const emojiData of this.emojiService.emojis) {\n      const {\n        shortNames,\n        emoticons\n      } = emojiData;\n      const id = shortNames[0];\n\n      for (const emoticon of emoticons) {\n        if (this.emoticonsList[emoticon]) {\n          continue;\n        }\n\n        this.emoticonsList[emoticon] = id;\n      }\n\n      this.emojisList[id] = this.emojiService.getSanitizedData(id);\n      this.originalPool[id] = emojiData;\n    }\n  }\n\n  addCustomToPool(custom, pool) {\n    for (const emoji of custom) {\n      const emojiId = emoji.id || emoji.shortNames[0];\n\n      if (emojiId && !pool[emojiId]) {\n        pool[emojiId] = this.emojiService.getData(emoji);\n        this.emojisList[emojiId] = this.emojiService.getSanitizedData(emoji);\n      }\n    }\n  }\n\n  search(value, emojisToShowFilter, maxResults = 75, include = [], exclude = [], custom = []) {\n    var _a;\n\n    this.addCustomToPool(custom, this.originalPool);\n    let results;\n    let pool = this.originalPool;\n\n    if (value.length) {\n      if (value === '-' || value === '-1') {\n        return [this.emojisList['-1']];\n      }\n\n      if (value === '+' || value === '+1') {\n        return [this.emojisList['+1']];\n      }\n\n      let values = value.toLowerCase().split(/[\\s|,|\\-|_]+/);\n      let allResults = [];\n\n      if (values.length > 2) {\n        values = [values[0], values[1]];\n      }\n\n      if (include.length || exclude.length) {\n        pool = {};\n\n        for (const category of categories$1 || []) {\n          const isIncluded = include && include.length ? include.indexOf(category.id) > -1 : true;\n          const isExcluded = exclude && exclude.length ? exclude.indexOf(category.id) > -1 : false;\n\n          if (!isIncluded || isExcluded) {\n            continue;\n          }\n\n          for (const emojiId of category.emojis || []) {\n            // Need to make sure that pool gets keyed\n            // with the correct id, which is why we call emojiService.getData below\n            const emoji = this.emojiService.getData(emojiId);\n            pool[(_a = emoji === null || emoji === void 0 ? void 0 : emoji.id) !== null && _a !== void 0 ? _a : ''] = emoji;\n          }\n        }\n\n        if (custom.length) {\n          const customIsIncluded = include && include.length ? include.indexOf('custom') > -1 : true;\n          const customIsExcluded = exclude && exclude.length ? exclude.indexOf('custom') > -1 : false;\n\n          if (customIsIncluded && !customIsExcluded) {\n            this.addCustomToPool(custom, pool);\n          }\n        }\n      }\n\n      allResults = values.map(v => {\n        let aPool = pool;\n        let aIndex = this.index;\n        let length = 0; // eslint-disable-next-line @typescript-eslint/prefer-for-of\n\n        for (let charIndex = 0; charIndex < v.length; charIndex++) {\n          const char = v[charIndex];\n          length++;\n\n          if (!aIndex[char]) {\n            aIndex[char] = {};\n          }\n\n          aIndex = aIndex[char];\n\n          if (!aIndex.results) {\n            const scores = {};\n            aIndex.results = [];\n            aIndex.pool = {};\n\n            for (const id of Object.keys(aPool)) {\n              const emoji = aPool[id];\n\n              if (!this.emojiSearch[id]) {\n                this.emojiSearch[id] = this.buildSearch(emoji.short_names, emoji.name, emoji.id, emoji.keywords, emoji.emoticons);\n              }\n\n              const query = this.emojiSearch[id];\n              const sub = v.substr(0, length);\n              const subIndex = query.indexOf(sub);\n\n              if (subIndex !== -1) {\n                let score = subIndex + 1;\n\n                if (sub === id) {\n                  score = 0;\n                }\n\n                aIndex.results.push(this.emojisList[id]);\n                aIndex.pool[id] = emoji;\n                scores[id] = score;\n              }\n            }\n\n            aIndex.results.sort((a, b) => {\n              const aScore = scores[a.id];\n              const bScore = scores[b.id];\n              return aScore - bScore;\n            });\n          }\n\n          aPool = aIndex.pool;\n        }\n\n        return aIndex.results;\n      }).filter(a => a);\n\n      if (allResults.length > 1) {\n        results = intersect.apply(null, allResults);\n      } else if (allResults.length) {\n        results = allResults[0];\n      } else {\n        results = [];\n      }\n    }\n\n    if (results) {\n      if (emojisToShowFilter) {\n        results = results.filter(result => {\n          if (result && result.id) {\n            return emojisToShowFilter(this.emojiService.names[result.id]);\n          }\n\n          return false;\n        });\n      }\n\n      if (results && results.length > maxResults) {\n        results = results.slice(0, maxResults);\n      }\n    }\n\n    return results || null;\n  }\n\n  buildSearch(shortNames, name, id, keywords, emoticons) {\n    const search = [];\n\n    const addToSearch = (strings, split) => {\n      if (!strings) {\n        return;\n      }\n\n      const arr = Array.isArray(strings) ? strings : [strings];\n\n      for (const str of arr) {\n        const substrings = split ? str.split(/[-|_|\\s]+/) : [str];\n\n        for (let s of substrings) {\n          s = s.toLowerCase();\n\n          if (!search.includes(s)) {\n            search.push(s);\n          }\n        }\n      }\n    };\n\n    addToSearch(shortNames, true);\n    addToSearch(name, true);\n    addToSearch(id, true);\n    addToSearch(keywords, true);\n    addToSearch(emoticons, false);\n    return search.join(',');\n  }\n\n}\n\nEmojiSearch.ɵfac = function EmojiSearch_Factory(t) {\n  return new (t || EmojiSearch)(i0.ɵɵinject(i1.EmojiService));\n};\n\nEmojiSearch.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: EmojiSearch,\n  factory: EmojiSearch.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(EmojiSearch, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.EmojiService\n    }];\n  }, null);\n})();\n\nclass SkinComponent {\n  constructor() {\n    this.changeSkin = new EventEmitter();\n    this.opened = false;\n    this.skinTones = [1, 2, 3, 4, 5, 6];\n  }\n\n  toggleOpen() {\n    this.opened = !this.opened;\n  }\n\n  isSelected(skinTone) {\n    return skinTone === this.skin;\n  }\n\n  isVisible(skinTone) {\n    return this.opened || this.isSelected(skinTone);\n  }\n\n  pressed(skinTone) {\n    return this.opened ? !!this.isSelected(skinTone) : '';\n  }\n\n  tabIndex(skinTone) {\n    return this.isVisible(skinTone) ? '0' : '';\n  }\n\n  expanded(skinTone) {\n    return this.isSelected(skinTone) ? this.opened : '';\n  }\n\n  handleClick(skin) {\n    if (!this.opened) {\n      this.opened = true;\n      return;\n    }\n\n    this.opened = false;\n\n    if (skin !== this.skin) {\n      this.changeSkin.emit(skin);\n    }\n  }\n\n}\n\nSkinComponent.ɵfac = function SkinComponent_Factory(t) {\n  return new (t || SkinComponent)();\n};\n\nSkinComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: SkinComponent,\n  selectors: [[\"emoji-skins\"]],\n  inputs: {\n    skin: \"skin\",\n    i18n: \"i18n\"\n  },\n  outputs: {\n    changeSkin: \"changeSkin\"\n  },\n  decls: 2,\n  vars: 3,\n  consts: [[1, \"emoji-mart-skin-swatches\"], [\"class\", \"emoji-mart-skin-swatch\", 3, \"selected\", 4, \"ngFor\", \"ngForOf\"], [1, \"emoji-mart-skin-swatch\"], [\"role\", \"button\", 3, \"tabIndex\", \"title\", \"click\", \"keyup.enter\", \"keyup.space\"]],\n  template: function SkinComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵtemplate(1, SkinComponent_span_1_Template, 2, 12, \"span\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵclassProp(\"opened\", ctx.opened);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.skinTones);\n    }\n  },\n  directives: [i3.NgForOf],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SkinComponent, [{\n    type: Component,\n    args: [{\n      selector: 'emoji-skins',\n      template: `\n    <section\n      class=\"emoji-mart-skin-swatches\"\n      [class.opened]=\"opened\"\n    >\n      <span\n        *ngFor=\"let skinTone of skinTones\"\n        class=\"emoji-mart-skin-swatch\"\n        [class.selected]=\"skinTone === skin\"\n      >\n        <span\n          (click)=\"handleClick(skinTone)\"\n          (keyup.enter)=\"handleClick(skinTone)\"\n          (keyup.space)=\"handleClick(skinTone)\"\n          class=\"emoji-mart-skin emoji-mart-skin-tone-{{ skinTone }}\"\n          role=\"button\"\n          [tabIndex]=\"tabIndex(skinTone)\"\n          [attr.aria-hidden]=\"!isVisible(skinTone)\"\n          [attr.aria-pressed]=\"pressed(skinTone)\"\n          [attr.aria-haspopup]=\"!!isSelected(skinTone)\"\n          [attr.aria-expanded]=\"expanded(skinTone)\"\n          [attr.aria-label]=\"i18n.skintones[skinTone]\"\n          [title]=\"i18n.skintones[skinTone]\"\n        ></span>\n      </span>\n    </section>\n  `,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      preserveWhitespaces: false\n    }]\n  }], null, {\n    skin: [{\n      type: Input\n    }],\n    i18n: [{\n      type: Input\n    }],\n    changeSkin: [{\n      type: Output\n    }]\n  });\n})();\n\nclass PreviewComponent {\n  constructor(ref, emojiService) {\n    this.ref = ref;\n    this.emojiService = emojiService;\n    this.skinChange = new EventEmitter();\n    this.emojiData = {};\n  }\n\n  ngOnChanges() {\n    var _a;\n\n    if (!this.emoji) {\n      return;\n    }\n\n    this.emojiData = this.emojiService.getData(this.emoji, this.emojiSkin, this.emojiSet);\n    const knownEmoticons = [];\n    const listedEmoticons = [];\n    const emoitcons = this.emojiData.emoticons || [];\n    emoitcons.forEach(emoticon => {\n      if (knownEmoticons.indexOf(emoticon.toLowerCase()) >= 0) {\n        return;\n      }\n\n      knownEmoticons.push(emoticon.toLowerCase());\n      listedEmoticons.push(emoticon);\n    });\n    this.listedEmoticons = listedEmoticons;\n    (_a = this.ref) === null || _a === void 0 ? void 0 : _a.detectChanges();\n  }\n\n}\n\nPreviewComponent.ɵfac = function PreviewComponent_Factory(t) {\n  return new (t || PreviewComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.EmojiService));\n};\n\nPreviewComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PreviewComponent,\n  selectors: [[\"emoji-preview\"]],\n  inputs: {\n    title: \"title\",\n    emoji: \"emoji\",\n    idleEmoji: \"idleEmoji\",\n    i18n: \"i18n\",\n    emojiIsNative: \"emojiIsNative\",\n    emojiSkin: \"emojiSkin\",\n    emojiSize: \"emojiSize\",\n    emojiSet: \"emojiSet\",\n    emojiSheetSize: \"emojiSheetSize\",\n    emojiBackgroundImageFn: \"emojiBackgroundImageFn\",\n    emojiImageUrlFn: \"emojiImageUrlFn\"\n  },\n  outputs: {\n    skinChange: \"skinChange\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 9,\n  vars: 6,\n  consts: [[\"class\", \"emoji-mart-preview\", 4, \"ngIf\"], [1, \"emoji-mart-preview\", 3, \"hidden\"], [1, \"emoji-mart-preview-emoji\"], [3, \"isNative\", \"skin\", \"set\", \"emoji\", \"backgroundImageFn\", \"size\", \"imageUrlFn\", 4, \"ngIf\"], [1, \"emoji-mart-preview-data\"], [1, \"emoji-mart-title-label\"], [1, \"emoji-mart-preview-skins\"], [3, \"skin\", \"i18n\", \"changeSkin\"], [1, \"emoji-mart-preview\"], [3, \"emoji\", \"size\", \"isNative\", \"skin\", \"set\", \"sheetSize\", \"backgroundImageFn\", \"imageUrlFn\"], [1, \"emoji-mart-preview-name\"], [1, \"emoji-mart-preview-shortname\"], [\"class\", \"emoji-mart-preview-shortname\", 4, \"ngFor\", \"ngForOf\"], [1, \"emoji-mart-preview-emoticons\"], [\"class\", \"emoji-mart-preview-emoticon\", 4, \"ngFor\", \"ngForOf\"], [1, \"emoji-mart-preview-emoticon\"], [3, \"isNative\", \"skin\", \"set\", \"emoji\", \"backgroundImageFn\", \"size\", \"imageUrlFn\"]],\n  template: function PreviewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, PreviewComponent_div_0_Template, 10, 12, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵtemplate(3, PreviewComponent_ngx_emoji_3_Template, 1, 7, \"ngx-emoji\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"span\", 5);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"emoji-skins\", 7);\n      i0.ɵɵlistener(\"changeSkin\", function PreviewComponent_Template_emoji_skins_changeSkin_8_listener($event) {\n        return ctx.skinChange.emit($event);\n      });\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.emoji && ctx.emojiData);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.emoji);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.idleEmoji && ctx.idleEmoji.length);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"skin\", ctx.emojiSkin)(\"i18n\", ctx.i18n);\n    }\n  },\n  directives: [i1.EmojiComponent, SkinComponent, i3.NgIf, i3.NgForOf],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PreviewComponent, [{\n    type: Component,\n    args: [{\n      selector: 'emoji-preview',\n      template: `\n    <div class=\"emoji-mart-preview\" *ngIf=\"emoji && emojiData\">\n      <div class=\"emoji-mart-preview-emoji\">\n        <ngx-emoji\n          [emoji]=\"emoji\"\n          [size]=\"38\"\n          [isNative]=\"emojiIsNative\"\n          [skin]=\"emojiSkin\"\n          [size]=\"emojiSize\"\n          [set]=\"emojiSet\"\n          [sheetSize]=\"emojiSheetSize\"\n          [backgroundImageFn]=\"emojiBackgroundImageFn\"\n          [imageUrlFn]=\"emojiImageUrlFn\"\n        ></ngx-emoji>\n      </div>\n\n      <div class=\"emoji-mart-preview-data\">\n        <div class=\"emoji-mart-preview-name\">{{ emojiData.name }}</div>\n        <div class=\"emoji-mart-preview-shortname\">\n          <span\n            class=\"emoji-mart-preview-shortname\"\n            *ngFor=\"let short_name of emojiData.shortNames\"\n          >\n            :{{ short_name }}:\n          </span>\n        </div>\n        <div class=\"emoji-mart-preview-emoticons\">\n          <span class=\"emoji-mart-preview-emoticon\" *ngFor=\"let emoticon of listedEmoticons\">\n            {{ emoticon }}\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"emoji-mart-preview\" [hidden]=\"emoji\">\n      <div class=\"emoji-mart-preview-emoji\">\n        <ngx-emoji\n          *ngIf=\"idleEmoji && idleEmoji.length\"\n          [isNative]=\"emojiIsNative\"\n          [skin]=\"emojiSkin\"\n          [set]=\"emojiSet\"\n          [emoji]=\"idleEmoji\"\n          [backgroundImageFn]=\"emojiBackgroundImageFn\"\n          [size]=\"38\"\n          [imageUrlFn]=\"emojiImageUrlFn\"\n        ></ngx-emoji>\n      </div>\n\n      <div class=\"emoji-mart-preview-data\">\n        <span class=\"emoji-mart-title-label\">{{ title }}</span>\n      </div>\n\n      <div class=\"emoji-mart-preview-skins\">\n        <emoji-skins\n          [skin]=\"emojiSkin\"\n          (changeSkin)=\"skinChange.emit($event)\"\n          [i18n]=\"i18n\"\n        ></emoji-skins>\n      </div>\n    </div>\n  `,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      preserveWhitespaces: false\n    }]\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1.EmojiService\n    }];\n  }, {\n    title: [{\n      type: Input\n    }],\n    emoji: [{\n      type: Input\n    }],\n    idleEmoji: [{\n      type: Input\n    }],\n    i18n: [{\n      type: Input\n    }],\n    emojiIsNative: [{\n      type: Input\n    }],\n    emojiSkin: [{\n      type: Input\n    }],\n    emojiSize: [{\n      type: Input\n    }],\n    emojiSet: [{\n      type: Input\n    }],\n    emojiSheetSize: [{\n      type: Input\n    }],\n    emojiBackgroundImageFn: [{\n      type: Input\n    }],\n    emojiImageUrlFn: [{\n      type: Input\n    }],\n    skinChange: [{\n      type: Output\n    }]\n  });\n})();\n\nlet id = 0;\n\nclass SearchComponent {\n  constructor(emojiSearch) {\n    this.emojiSearch = emojiSearch;\n    this.maxResults = 75;\n    this.autoFocus = false;\n    this.include = [];\n    this.exclude = [];\n    this.custom = [];\n    this.searchResults = new EventEmitter();\n    this.enterKey = new EventEmitter();\n    this.isSearching = false;\n    this.query = '';\n    this.inputId = `emoji-mart-search-${++id}`;\n  }\n\n  ngOnInit() {\n    this.icon = this.icons.search;\n  }\n\n  ngAfterViewInit() {\n    if (this.autoFocus) {\n      this.inputRef.nativeElement.focus();\n    }\n  }\n\n  clear() {\n    this.query = '';\n    this.handleSearch('');\n    this.inputRef.nativeElement.focus();\n  }\n\n  handleEnterKey($event) {\n    if (!this.query) {\n      return;\n    }\n\n    this.enterKey.emit($event);\n    $event.preventDefault();\n  }\n\n  handleSearch(value) {\n    if (value === '') {\n      this.icon = this.icons.search;\n      this.isSearching = false;\n    } else {\n      this.icon = this.icons.delete;\n      this.isSearching = true;\n    }\n\n    const emojis = this.emojiSearch.search(this.query, this.emojisToShowFilter, this.maxResults, this.include, this.exclude, this.custom);\n    this.searchResults.emit(emojis);\n  }\n\n  handleChange() {\n    this.handleSearch(this.query);\n  }\n\n}\n\nSearchComponent.ɵfac = function SearchComponent_Factory(t) {\n  return new (t || SearchComponent)(i0.ɵɵdirectiveInject(EmojiSearch));\n};\n\nSearchComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: SearchComponent,\n  selectors: [[\"emoji-search\"]],\n  viewQuery: function SearchComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c2, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputRef = _t.first);\n    }\n  },\n  inputs: {\n    maxResults: \"maxResults\",\n    autoFocus: \"autoFocus\",\n    i18n: \"i18n\",\n    include: \"include\",\n    exclude: \"exclude\",\n    custom: \"custom\",\n    icons: \"icons\",\n    emojisToShowFilter: \"emojisToShowFilter\"\n  },\n  outputs: {\n    searchResults: \"searchResults\",\n    enterKey: \"enterKey\"\n  },\n  decls: 8,\n  vars: 9,\n  consts: [[1, \"emoji-mart-search\"], [\"type\", \"search\", 3, \"id\", \"placeholder\", \"autofocus\", \"ngModel\", \"keyup.enter\", \"ngModelChange\"], [\"inputRef\", \"\"], [1, \"emoji-mart-sr-only\", 3, \"htmlFor\"], [\"type\", \"button\", 1, \"emoji-mart-search-icon\", 3, \"disabled\", \"click\", \"keyup.enter\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 20 20\", \"width\", \"13\", \"height\", \"13\", \"opacity\", \"0.5\"]],\n  template: function SearchComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"input\", 1, 2);\n      i0.ɵɵlistener(\"keyup.enter\", function SearchComponent_Template_input_keyup_enter_1_listener($event) {\n        return ctx.handleEnterKey($event);\n      })(\"ngModelChange\", function SearchComponent_Template_input_ngModelChange_1_listener($event) {\n        return ctx.query = $event;\n      })(\"ngModelChange\", function SearchComponent_Template_input_ngModelChange_1_listener() {\n        return ctx.handleChange();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"label\", 3);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function SearchComponent_Template_button_click_5_listener() {\n        return ctx.clear();\n      })(\"keyup.enter\", function SearchComponent_Template_button_keyup_enter_5_listener() {\n        return ctx.clear();\n      });\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(6, \"svg\", 5);\n      i0.ɵɵelement(7, \"path\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"id\", ctx.inputId)(\"placeholder\", ctx.i18n.search)(\"autofocus\", ctx.autoFocus)(\"ngModel\", ctx.query);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"htmlFor\", ctx.inputId);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.i18n.search, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.isSearching);\n      i0.ɵɵattribute(\"aria-label\", ctx.i18n.clear);\n      i0.ɵɵadvance(2);\n      i0.ɵɵattribute(\"d\", ctx.icon);\n    }\n  },\n  directives: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SearchComponent, [{\n    type: Component,\n    args: [{\n      selector: 'emoji-search',\n      template: `\n    <div class=\"emoji-mart-search\">\n      <input\n        [id]=\"inputId\"\n        #inputRef\n        type=\"search\"\n        (keyup.enter)=\"handleEnterKey($event)\"\n        [placeholder]=\"i18n.search\"\n        [autofocus]=\"autoFocus\"\n        [(ngModel)]=\"query\"\n        (ngModelChange)=\"handleChange()\"\n      />\n      <!--\n      Use a <label> in addition to the placeholder for accessibility, but place it off-screen\n      http://www.maxability.co.in/2016/01/placeholder-attribute-and-why-it-is-not-accessible/\n      -->\n      <label class=\"emoji-mart-sr-only\" [htmlFor]=\"inputId\">\n        {{ i18n.search }}\n      </label>\n      <button\n        type=\"button\"\n        class=\"emoji-mart-search-icon\"\n        (click)=\"clear()\"\n        (keyup.enter)=\"clear()\"\n        [disabled]=\"!isSearching\"\n        [attr.aria-label]=\"i18n.clear\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 20 20\"\n          width=\"13\"\n          height=\"13\"\n          opacity=\"0.5\"\n        >\n          <path [attr.d]=\"icon\" />\n        </svg>\n      </button>\n    </div>\n  `,\n      preserveWhitespaces: false\n    }]\n  }], function () {\n    return [{\n      type: EmojiSearch\n    }];\n  }, {\n    maxResults: [{\n      type: Input\n    }],\n    autoFocus: [{\n      type: Input\n    }],\n    i18n: [{\n      type: Input\n    }],\n    include: [{\n      type: Input\n    }],\n    exclude: [{\n      type: Input\n    }],\n    custom: [{\n      type: Input\n    }],\n    icons: [{\n      type: Input\n    }],\n    emojisToShowFilter: [{\n      type: Input\n    }],\n    searchResults: [{\n      type: Output\n    }],\n    enterKey: [{\n      type: Output\n    }],\n    inputRef: [{\n      type: ViewChild,\n      args: ['inputRef', {\n        static: true\n      }]\n    }]\n  });\n})();\n/* eslint-disable  max-len */\n\n\nconst categories = {\n  activity: `M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24m10 11h-5c.3-2.5 1.3-4.8 2-6.1a10 10 0 0 1 3 6.1m-9 0V2a10 10 0 0 1 4.4 1.6A18 18 0 0 0 15 11h-2zm-2 0H9a18 18 0 0 0-2.4-7.4A10 10 0 0 1 11 2.1V11zm0 2v9a10 10 0 0 1-4.4-1.6A18 18 0 0 0 9 13h2zm4 0a18 18 0 0 0 2.4 7.4 10 10 0 0 1-4.4 1.5V13h2zM5 4.9c.7 1.3 1.7 3.6 2 6.1H2a10 10 0 0 1 3-6.1M2 13h5c-.3 2.5-1.3 4.8-2 6.1A10 10 0 0 1 2 13m17 6.1c-.7-1.3-1.7-3.6-2-6.1h5a10 10 0 0 1-3 6.1`,\n  custom: `M10 1h3v21h-3zm10.186 4l1.5 2.598L3.5 18.098 2 15.5zM2 7.598L3.5 5l18.186 10.5-1.5 2.598z`,\n  flags: `M0 0l6 24h2L2 0zm21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.6 3h7.8l2 8H8.6l-2-8zm8.8 10l-2.9 1.9-.4-1.9h3.3zm3.6 0l-1.5-6h2l2 8H16l3-2z`,\n  foods: `M17 5c-1.8 0-2.9.4-3.7 1 .5-1.3 1.8-3 4.7-3a1 1 0 0 0 0-2c-3 0-4.6 1.3-5.5 2.5l-.2.2c-.6-1.9-1.5-3.7-3-3.7C8.5 0 7.7.3 7 1c-2 1.5-1.7 2.9-.5 4C3.6 5.2 0 7.4 0 13c0 4.6 5 11 9 11 2 0 2.4-.5 3-1 .6.5 1 1 3 1 4 0 9-6.4 9-11 0-6-4-8-7-8M8.2 2.5c.7-.5 1-.5 1-.5.4.2 1 1.4 1.4 3-1.6-.6-2.8-1.3-3-1.8l.6-.7M15 22c-1 0-1.2-.1-1.6-.4l-.1-.2a2 2 0 0 0-2.6 0l-.1.2c-.4.3-.5.4-1.6.4-2.8 0-7-5.4-7-9 0-6 4.5-6 5-6 2 0 2.5.4 3.4 1.2l.3.3a2 2 0 0 0 2.6 0l.3-.3c1-.8 1.5-1.2 3.4-1.2.5 0 5 .1 5 6 0 3.6-4.2 9-7 9`,\n  nature: `M15.5 8a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m-7 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m10.43-8h-.02c-.97 0-2.14.79-3.02 1.5A13.88 13.88 0 0 0 12 .99c-1.28 0-2.62.13-3.87.51C7.24.8 6.07 0 5.09 0h-.02C3.35 0 .07 2.67 0 7.03c-.04 2.47.28 4.23 1.04 5 .26.27.88.69 1.3.9.19 3.17.92 5.23 2.53 6.37.9.64 2.19.95 3.2 1.1-.03.2-.07.4-.07.6 0 1.77 2.35 3 4 3s4-1.23 4-3c0-.2-.04-.4-.07-.59 2.57-.38 5.43-1.87 5.92-7.58.4-.22.89-.57 1.1-.8.77-.76 1.09-2.52 1.05-5C23.93 2.67 20.65 0 18.93 0M3.23 9.13c-.24.29-.84 1.16-.9 1.24A9.67 9.67 0 0 1 2 7.08c.05-3.28 2.48-4.97 3.1-5.03.25.02.72.27 1.26.65A7.95 7.95 0 0 0 4 7.82c-.14.55-.4.86-.79 1.31M12 22c-.9 0-1.95-.7-2-1 0-.65.47-1.24 1-1.6v.6a1 1 0 1 0 2 0v-.6c.52.36 1 .95 1 1.6-.05.3-1.1 1-2 1m3-3.48v.02a4.75 4.75 0 0 0-1.26-1.02c1.09-.52 2.24-1.33 2.24-2.22 0-1.84-1.78-2.2-3.98-2.2s-3.98.36-3.98 2.2c0 .89 1.15 1.7 2.24 2.22A4.8 4.8 0 0 0 9 18.54v-.03a6.1 6.1 0 0 1-2.97-.84c-1.3-.92-1.84-3.04-1.86-6.48l.03-.04c.5-.82 1.49-1.45 1.8-3.1C6 6 7.36 4.42 8.36 3.53c1.01-.35 2.2-.53 3.59-.53 1.45 0 2.68.2 3.73.57 1 .9 2.32 2.46 2.32 4.48.31 1.65 1.3 2.27 1.8 3.1l.1.18c-.06 5.97-1.95 7.01-4.9 7.19m6.63-8.2l-.11-.2a7.59 7.59 0 0 0-.74-.98 3.02 3.02 0 0 1-.79-1.32 7.93 7.93 0 0 0-2.35-5.12c.53-.38 1-.63 1.26-.65.64.07 3.05 1.77 3.1 5.03.02 1.81-.35 3.22-.37 3.24`,\n  objects: `M12 0a9 9 0 0 0-5 16.5V21s2 3 5 3 5-3 5-3v-4.5A9 9 0 0 0 12 0zm0 2a7 7 0 1 1 0 14 7 7 0 0 1 0-14zM9 17.5a9 9 0 0 0 6 0v.8a7 7 0 0 1-3 .7 7 7 0 0 1-3-.7v-.8zm.2 3a8.9 8.9 0 0 0 2.8.5c1 0 1.9-.2 2.8-.5-.6.7-1.6 1.5-2.8 1.5-1.1 0-2.1-.8-2.8-1.5zm5.5-8.1c-.8 0-1.1-.8-1.5-1.8-.5-1-.7-1.5-1.2-1.5s-.8.5-1.3 1.5c-.4 1-.8 1.8-1.6 1.8h-.3c-.5-.2-.8-.7-1.3-1.8l-.2-1A3 3 0 0 0 7 9a1 1 0 0 1 0-2c1.7 0 2 1.4 2.2 2.1.5-1 1.3-2 2.8-2 1.5 0 2.3 1.1 2.7 2.1.2-.8.6-2.2 2.3-2.2a1 1 0 1 1 0 2c-.2 0-.3.5-.3.7a6.5 6.5 0 0 1-.3 1c-.5 1-.8 1.7-1.7 1.7`,\n  people: `M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24m0 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20M8 7a2 2 0 1 0 0 4 2 2 0 0 0 0-4m8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-.8 8c-.7 1.2-1.8 2-3.3 2-1.5 0-2.7-.8-3.4-2H15m3-2H6a6 6 0 1 0 12 0`,\n  places: `M6.5 12a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5m0 3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5.5.2.5.5-.2.5-.5.5m11-3a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5m0 3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5.5.2.5.5-.2.5-.5.5m5-5.5l-1-.4-.1-.1h.6c.6 0 1-.4 1-1 0-1-.9-2-2-2h-.6l-.8-1.7A3 3 0 0 0 16.8 2H7.2a3 3 0 0 0-2.8 2.3L3.6 6H3a2 2 0 0 0-2 2c0 .6.4 1 1 1h.6v.1l-1 .4a2 2 0 0 0-1.4 2l.7 7.6a1 1 0 0 0 1 .9H3v1c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-1h6v1c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-1h1.1a1 1 0 0 0 1-.9l.7-7.5a2 2 0 0 0-1.3-2.1M6.3 4.9c.1-.5.5-.9 1-.9h9.5c.4 0 .8.4 1 .9L19.2 9H4.7l1.6-4.1zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.2-3H2.8l-.7-6.6.9-.4h18l.9.4-.7 6.6z`,\n  recent: `M13 4h-2v7H9v2h2v2h2v-2h4v-2h-4zm-1-4a12 12 0 1 0 0 24 12 12 0 0 0 0-24m0 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20`,\n  symbols: `M0 0h11v2H0zm4 11h3V6h4V4H0v2h4zm11.5 6a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5m0-2.99a.5.5 0 0 1 0 .99c-.28 0-.5-.22-.5-.5s.22-.49.5-.49m6 5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5m0 2.99a.5.5 0 0 1-.5-.5.5.5 0 0 1 1 .01.5.5 0 0 1-.5.49m.5-9l-9 9 1.51 1.5 9-9zm-5-2c2.2 0 4-1.12 4-2.5V2s.98-.16 1.5.95C23 4.05 23 6 23 6s1-1.12 1-3.13C24-.02 21 0 21 0h-2v6.35A5.85 5.85 0 0 0 17 6c-2.2 0-4 1.12-4 2.5s1.8 2.5 4 2.5m-6.7 9.48L8.82 18.9a47.54 47.54 0 0 1-1.44 1.13c-.3-.3-.99-1.02-2.04-2.19.9-.83 1.47-1.46 1.72-1.89s.38-.87.38-1.33c0-.6-.27-1.18-.82-1.76-.54-.58-1.33-.87-2.35-.87-1 0-1.79.29-2.34.87-.56.6-.83 1.18-.83 1.79 0 .81.42 1.75 1.25 2.8a6.57 6.57 0 0 0-1.8 1.79 3.46 3.46 0 0 0-.51 1.83c0 .86.3 1.56.92 2.1a3.5 3.5 0 0 0 2.42.83c1.17 0 2.44-.38 3.81-1.14L8.23 24h2.82l-2.09-2.38 1.34-1.14zM3.56 14.1a1.02 1.02 0 0 1 .73-.28c.31 0 .56.08.75.25a.85.85 0 0 1 .28.66c0 .52-.42 1.11-1.26 1.78-.53-.65-.8-1.23-.8-1.74a.9.9 0 0 1 .3-.67m.18 7.9c-.43 0-.78-.12-1.06-.35-.28-.23-.41-.49-.41-.76 0-.6.5-1.3 1.52-2.09a31.23 31.23 0 0 0 2.25 2.44c-.92.5-1.69.76-2.3.76`\n};\nconst search = {\n  search: `M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z`,\n  delete: `M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z`\n};\nconst I18N = {\n  search: 'Search',\n  emojilist: 'List of emoji',\n  notfound: 'No Emoji Found',\n  clear: 'Clear',\n  categories: {\n    search: 'Search Results',\n    recent: 'Frequently Used',\n    people: 'Smileys & People',\n    nature: 'Animals & Nature',\n    foods: 'Food & Drink',\n    activity: 'Activity',\n    places: 'Travel & Places',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags',\n    custom: 'Custom'\n  },\n  skintones: {\n    1: 'Default Skin Tone',\n    2: 'Light Skin Tone',\n    3: 'Medium-Light Skin Tone',\n    4: 'Medium Skin Tone',\n    5: 'Medium-Dark Skin Tone',\n    6: 'Dark Skin Tone'\n  }\n};\n\nclass PickerComponent {\n  constructor(ngZone, renderer, ref, frequently, platformId) {\n    this.ngZone = ngZone;\n    this.renderer = renderer;\n    this.ref = ref;\n    this.frequently = frequently;\n    this.platformId = platformId;\n    this.perLine = 9;\n    this.totalFrequentLines = 4;\n    this.i18n = {};\n    this.style = {};\n    this.title = 'Emoji Mart™';\n    this.emoji = 'department_store';\n    this.darkMode = !!(typeof matchMedia === 'function' && matchMedia('(prefers-color-scheme: dark)').matches);\n    this.color = '#ae65c5';\n    this.hideObsolete = true;\n    /** all categories shown */\n\n    this.categories = [];\n    /** used to temporarily draw categories */\n\n    this.activeCategories = [];\n    this.set = 'apple';\n    this.skin = 1;\n    /** Renders the native unicode emoji */\n\n    this.isNative = false;\n    this.emojiSize = 24;\n    this.sheetSize = 64;\n    this.showPreview = true;\n    this.emojiTooltip = false;\n    this.autoFocus = false;\n    this.custom = [];\n    this.hideRecent = true;\n    this.notFoundEmoji = 'sleuth_or_spy';\n    this.categoriesIcons = categories;\n    this.searchIcons = search;\n    this.useButton = false;\n    this.enableFrequentEmojiSort = false;\n    this.enableSearch = true;\n    this.showSingleCategory = false;\n    this.virtualize = false;\n    this.virtualizeOffset = 0;\n    this.emojiClick = new EventEmitter();\n    this.emojiSelect = new EventEmitter();\n    this.skinChange = new EventEmitter();\n    this.scrollHeight = 0;\n    this.clientHeight = 0;\n    this.clientWidth = 0;\n    this.firstRender = true;\n    this.animationFrameRequestId = null;\n    this.NAMESPACE = 'emoji-mart';\n    this.measureScrollbar = 0;\n    this.RECENT_CATEGORY = {\n      id: 'recent',\n      name: 'Recent',\n      emojis: null\n    };\n    this.SEARCH_CATEGORY = {\n      id: 'search',\n      name: 'Search',\n      emojis: null,\n      anchor: false\n    };\n    this.CUSTOM_CATEGORY = {\n      id: 'custom',\n      name: 'Custom',\n      emojis: []\n    };\n\n    this.backgroundImageFn = (set, sheetSize) => `https://unpkg.com/emoji-datasource-${this.set}@6.0.1/img/${this.set}/sheets-256/${this.sheetSize}.png`;\n  }\n\n  ngOnInit() {\n    // measure scroll\n    this.measureScrollbar = measureScrollbar();\n    this.i18n = Object.assign(Object.assign({}, I18N), this.i18n);\n    this.i18n.categories = Object.assign(Object.assign({}, I18N.categories), this.i18n.categories);\n    this.skin = JSON.parse(isPlatformBrowser(this.platformId) && localStorage.getItem(`${this.NAMESPACE}.skin`) || 'null') || this.skin;\n    const allCategories = [...categories$1];\n\n    if (this.custom.length > 0) {\n      this.CUSTOM_CATEGORY.emojis = this.custom.map(emoji => {\n        return Object.assign(Object.assign({}, emoji), {\n          // `<Category />` expects emoji to have an `id`.\n          id: emoji.shortNames[0],\n          custom: true\n        });\n      });\n      allCategories.push(this.CUSTOM_CATEGORY);\n    }\n\n    if (this.include !== undefined) {\n      allCategories.sort((a, b) => {\n        if (this.include.indexOf(a.id) > this.include.indexOf(b.id)) {\n          return 1;\n        }\n\n        return -1;\n      });\n    }\n\n    for (const category of allCategories) {\n      const isIncluded = this.include && this.include.length ? this.include.indexOf(category.id) > -1 : true;\n      const isExcluded = this.exclude && this.exclude.length ? this.exclude.indexOf(category.id) > -1 : false;\n\n      if (!isIncluded || isExcluded) {\n        continue;\n      }\n\n      if (this.emojisToShowFilter) {\n        const newEmojis = [];\n        const {\n          emojis\n        } = category; // eslint-disable-next-line @typescript-eslint/prefer-for-of\n\n        for (let emojiIndex = 0; emojiIndex < emojis.length; emojiIndex++) {\n          const emoji = emojis[emojiIndex];\n\n          if (this.emojisToShowFilter(emoji)) {\n            newEmojis.push(emoji);\n          }\n        }\n\n        if (newEmojis.length) {\n          const newCategory = {\n            emojis: newEmojis,\n            name: category.name,\n            id: category.id\n          };\n          this.categories.push(newCategory);\n        }\n      } else {\n        this.categories.push(category);\n      }\n\n      this.categoriesIcons = Object.assign(Object.assign({}, categories), this.categoriesIcons);\n      this.searchIcons = Object.assign(Object.assign({}, search), this.searchIcons);\n    }\n\n    const includeRecent = this.include && this.include.length ? this.include.indexOf(this.RECENT_CATEGORY.id) > -1 : true;\n    const excludeRecent = this.exclude && this.exclude.length ? this.exclude.indexOf(this.RECENT_CATEGORY.id) > -1 : false;\n\n    if (includeRecent && !excludeRecent) {\n      this.hideRecent = false;\n      this.categories.unshift(this.RECENT_CATEGORY);\n    }\n\n    if (this.categories[0]) {\n      this.categories[0].first = true;\n    }\n\n    this.categories.unshift(this.SEARCH_CATEGORY);\n    this.selected = this.categories.filter(category => category.first)[0].name; // Need to be careful if small number of categories\n\n    const categoriesToLoadFirst = Math.min(this.categories.length, 3);\n    this.setActiveCategories(this.activeCategories = this.categories.slice(0, categoriesToLoadFirst)); // Trim last active category\n\n    const lastActiveCategoryEmojis = this.categories[categoriesToLoadFirst - 1].emojis.slice();\n    this.categories[categoriesToLoadFirst - 1].emojis = lastActiveCategoryEmojis.slice(0, 60);\n    setTimeout(() => {\n      // Restore last category\n      this.categories[categoriesToLoadFirst - 1].emojis = lastActiveCategoryEmojis;\n      this.setActiveCategories(this.categories); // The `setTimeout` will trigger the change detection, but since we're inside\n      // the OnPush component we can run change detection locally starting from this\n      // component and going down to the children.\n\n      this.ref.detectChanges(); // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n\n      isPlatformBrowser(this.platformId) && this.ngZone.runOutsideAngular(() => {\n        // The `updateCategoriesSize` doesn't change properties that are used\n        // in templates, thus this is run in the context of the root zone to avoid\n        // running change detection.\n        requestAnimationFrame(() => {\n          this.updateCategoriesSize();\n        });\n      });\n    });\n    this.ngZone.runOutsideAngular(() => {\n      // DOM events that are listened by Angular inside the template trigger change detection\n      // and also wrapped into additional functions that call `markForCheck()`. We listen `scroll`\n      // in the context of the root zone since it will not trigger change detection each time\n      // the `scroll` event is dispatched.\n      this.scrollListener = this.renderer.listen(this.scrollRef.nativeElement, 'scroll', () => {\n        this.handleScroll();\n      });\n    });\n  }\n\n  ngOnDestroy() {\n    var _a;\n\n    (_a = this.scrollListener) === null || _a === void 0 ? void 0 : _a.call(this); // This is called here because the component might be destroyed\n    // but there will still be a `requestAnimationFrame` callback in the queue\n    // that calls `detectChanges()` on the `ViewRef`. This will lead to a runtime\n    // exception if the `detectChanges()` is called after the `ViewRef` is destroyed.\n\n    this.cancelAnimationFrame();\n  }\n\n  setActiveCategories(categoriesToMakeActive) {\n    if (this.showSingleCategory) {\n      this.activeCategories = categoriesToMakeActive.filter(x => x.name === this.selected || x === this.SEARCH_CATEGORY);\n    } else {\n      this.activeCategories = categoriesToMakeActive;\n    }\n  }\n\n  updateCategoriesSize() {\n    this.categoryRefs.forEach(component => component.memoizeSize());\n\n    if (this.scrollRef) {\n      const target = this.scrollRef.nativeElement;\n      this.scrollHeight = target.scrollHeight;\n      this.clientHeight = target.clientHeight;\n      this.clientWidth = target.clientWidth;\n    }\n  }\n\n  handleAnchorClick($event) {\n    var _a;\n\n    this.updateCategoriesSize();\n    this.selected = $event.category.name;\n    this.setActiveCategories(this.categories);\n\n    if (this.SEARCH_CATEGORY.emojis) {\n      this.handleSearch(null);\n      (_a = this.searchRef) === null || _a === void 0 ? void 0 : _a.clear();\n      this.handleAnchorClick($event);\n      return;\n    }\n\n    const component = this.categoryRefs.find(n => n.id === $event.category.id);\n\n    if (component) {\n      let {\n        top\n      } = component;\n\n      if ($event.category.first) {\n        top = 0;\n      } else {\n        top += 1;\n      }\n\n      this.scrollRef.nativeElement.scrollTop = top;\n    }\n\n    this.nextScroll = $event.category.name; // handle component scrolling to load emojis\n\n    for (const category of this.categories) {\n      const componentToScroll = this.categoryRefs.find(({\n        id\n      }) => id === category.id);\n      componentToScroll === null || componentToScroll === void 0 ? void 0 : componentToScroll.handleScroll(this.scrollRef.nativeElement.scrollTop);\n    }\n  }\n\n  categoryTrack(index, item) {\n    return item.id;\n  }\n\n  handleScroll(noSelectionChange = false) {\n    if (this.nextScroll) {\n      this.selected = this.nextScroll;\n      this.nextScroll = undefined;\n      this.ref.detectChanges();\n      return;\n    }\n\n    if (!this.scrollRef) {\n      return;\n    }\n\n    if (this.showSingleCategory) {\n      return;\n    }\n\n    let activeCategory;\n\n    if (this.SEARCH_CATEGORY.emojis) {\n      activeCategory = this.SEARCH_CATEGORY;\n    } else {\n      const target = this.scrollRef.nativeElement; // check scroll is not at bottom\n\n      if (target.scrollTop === 0) {\n        // hit the TOP\n        activeCategory = this.categories.find(n => n.first === true);\n      } else if (target.scrollHeight - target.scrollTop === this.clientHeight) {\n        // scrolled to bottom activate last category\n        activeCategory = this.categories[this.categories.length - 1];\n      } else {\n        // scrolling\n        for (const category of this.categories) {\n          const component = this.categoryRefs.find(({\n            id\n          }) => id === category.id);\n          const active = component === null || component === void 0 ? void 0 : component.handleScroll(target.scrollTop);\n\n          if (active) {\n            activeCategory = category;\n          }\n        }\n      }\n\n      this.scrollTop = target.scrollTop;\n    } // This will allow us to run the change detection only when the category changes.\n\n\n    if (!noSelectionChange && activeCategory && activeCategory.name !== this.selected) {\n      this.selected = activeCategory.name;\n      this.ref.detectChanges();\n    } else if (noSelectionChange) {\n      this.ref.detectChanges();\n    }\n  }\n\n  handleSearch($emojis) {\n    this.SEARCH_CATEGORY.emojis = $emojis;\n\n    for (const component of this.categoryRefs.toArray()) {\n      if (component.name === 'Search') {\n        component.emojis = $emojis;\n        component.updateDisplay($emojis ? 'block' : 'none');\n      } else {\n        component.updateDisplay($emojis ? 'none' : 'block');\n      }\n    }\n\n    this.scrollRef.nativeElement.scrollTop = 0;\n    this.handleScroll();\n  }\n\n  handleEnterKey($event, emoji) {\n    if (!emoji) {\n      if (this.SEARCH_CATEGORY.emojis !== null && this.SEARCH_CATEGORY.emojis.length) {\n        emoji = this.SEARCH_CATEGORY.emojis[0];\n\n        if (emoji) {\n          this.emojiSelect.emit({\n            $event,\n            emoji\n          });\n        } else {\n          return;\n        }\n      }\n    }\n\n    if (!this.hideRecent && !this.recent && emoji) {\n      this.frequently.add(emoji);\n    }\n\n    const component = this.categoryRefs.toArray()[1];\n\n    if (component && this.enableFrequentEmojiSort) {\n      component.updateRecentEmojis();\n      component.ref.markForCheck();\n    }\n  }\n\n  handleEmojiOver($event) {\n    var _a;\n\n    if (!this.showPreview || !this.previewRef) {\n      return;\n    }\n\n    const emojiData = this.CUSTOM_CATEGORY.emojis.find(customEmoji => customEmoji.id === $event.emoji.id);\n\n    if (emojiData) {\n      $event.emoji = Object.assign({}, emojiData);\n    }\n\n    this.previewEmoji = $event.emoji;\n    this.cancelAnimationFrame();\n    (_a = this.ref) === null || _a === void 0 ? void 0 : _a.detectChanges();\n  }\n\n  handleEmojiLeave() {\n    if (!this.showPreview || !this.previewRef) {\n      return;\n    }\n\n    this.ngZone.runOutsideAngular(() => {\n      this.animationFrameRequestId = requestAnimationFrame(() => {\n        this.previewEmoji = null;\n        this.ref.detectChanges();\n      });\n    });\n  }\n\n  handleEmojiClick($event) {\n    this.emojiClick.emit($event);\n    this.emojiSelect.emit($event);\n    this.handleEnterKey($event.$event, $event.emoji);\n  }\n\n  handleSkinChange(skin) {\n    this.skin = skin;\n    localStorage.setItem(`${this.NAMESPACE}.skin`, String(skin));\n    this.skinChange.emit(skin);\n  }\n\n  getWidth() {\n    if (this.style && this.style.width) {\n      return this.style.width;\n    }\n\n    return this.perLine * (this.emojiSize + 12) + 12 + 2 + this.measureScrollbar + 'px';\n  }\n\n  cancelAnimationFrame() {\n    if (this.animationFrameRequestId !== null) {\n      cancelAnimationFrame(this.animationFrameRequestId);\n      this.animationFrameRequestId = null;\n    }\n  }\n\n}\n\nPickerComponent.ɵfac = function PickerComponent_Factory(t) {\n  return new (t || PickerComponent)(i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(EmojiFrequentlyService), i0.ɵɵdirectiveInject(PLATFORM_ID));\n};\n\nPickerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PickerComponent,\n  selectors: [[\"emoji-mart\"]],\n  viewQuery: function PickerComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c3, 7);\n      i0.ɵɵviewQuery(PreviewComponent, 5);\n      i0.ɵɵviewQuery(SearchComponent, 5);\n      i0.ɵɵviewQuery(CategoryComponent, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollRef = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.previewRef = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.searchRef = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.categoryRefs = _t);\n    }\n  },\n  inputs: {\n    perLine: \"perLine\",\n    totalFrequentLines: \"totalFrequentLines\",\n    i18n: \"i18n\",\n    style: \"style\",\n    title: \"title\",\n    emoji: \"emoji\",\n    darkMode: \"darkMode\",\n    color: \"color\",\n    hideObsolete: \"hideObsolete\",\n    categories: \"categories\",\n    activeCategories: \"activeCategories\",\n    set: \"set\",\n    skin: \"skin\",\n    isNative: \"isNative\",\n    emojiSize: \"emojiSize\",\n    sheetSize: \"sheetSize\",\n    emojisToShowFilter: \"emojisToShowFilter\",\n    showPreview: \"showPreview\",\n    emojiTooltip: \"emojiTooltip\",\n    autoFocus: \"autoFocus\",\n    custom: \"custom\",\n    hideRecent: \"hideRecent\",\n    imageUrlFn: \"imageUrlFn\",\n    include: \"include\",\n    exclude: \"exclude\",\n    notFoundEmoji: \"notFoundEmoji\",\n    categoriesIcons: \"categoriesIcons\",\n    searchIcons: \"searchIcons\",\n    useButton: \"useButton\",\n    enableFrequentEmojiSort: \"enableFrequentEmojiSort\",\n    enableSearch: \"enableSearch\",\n    showSingleCategory: \"showSingleCategory\",\n    virtualize: \"virtualize\",\n    virtualizeOffset: \"virtualizeOffset\",\n    recent: \"recent\",\n    backgroundImageFn: \"backgroundImageFn\"\n  },\n  outputs: {\n    emojiClick: \"emojiClick\",\n    emojiSelect: \"emojiSelect\",\n    skinChange: \"skinChange\"\n  },\n  decls: 8,\n  vars: 16,\n  consts: [[3, \"ngStyle\"], [1, \"emoji-mart-bar\"], [3, \"categories\", \"color\", \"selected\", \"i18n\", \"icons\", \"anchorClick\"], [3, \"i18n\", \"include\", \"exclude\", \"custom\", \"autoFocus\", \"icons\", \"emojisToShowFilter\", \"searchResults\", \"enterKey\", 4, \"ngIf\"], [1, \"emoji-mart-scroll\"], [\"scrollRef\", \"\"], [3, \"id\", \"name\", \"emojis\", \"perLine\", \"totalFrequentLines\", \"hasStickyPosition\", \"i18n\", \"hideObsolete\", \"notFoundEmoji\", \"custom\", \"recent\", \"virtualize\", \"virtualizeOffset\", \"emojiIsNative\", \"emojiSkin\", \"emojiSize\", \"emojiSet\", \"emojiSheetSize\", \"emojiForceSize\", \"emojiTooltip\", \"emojiBackgroundImageFn\", \"emojiImageUrlFn\", \"emojiUseButton\", \"emojiOver\", \"emojiLeave\", \"emojiClick\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"emoji-mart-bar\", 4, \"ngIf\"], [3, \"i18n\", \"include\", \"exclude\", \"custom\", \"autoFocus\", \"icons\", \"emojisToShowFilter\", \"searchResults\", \"enterKey\"], [3, \"id\", \"name\", \"emojis\", \"perLine\", \"totalFrequentLines\", \"hasStickyPosition\", \"i18n\", \"hideObsolete\", \"notFoundEmoji\", \"custom\", \"recent\", \"virtualize\", \"virtualizeOffset\", \"emojiIsNative\", \"emojiSkin\", \"emojiSize\", \"emojiSet\", \"emojiSheetSize\", \"emojiForceSize\", \"emojiTooltip\", \"emojiBackgroundImageFn\", \"emojiImageUrlFn\", \"emojiUseButton\", \"emojiOver\", \"emojiLeave\", \"emojiClick\"], [3, \"title\", \"emoji\", \"idleEmoji\", \"emojiIsNative\", \"emojiSize\", \"emojiSkin\", \"emojiSet\", \"i18n\", \"emojiSheetSize\", \"emojiBackgroundImageFn\", \"emojiImageUrlFn\", \"skinChange\"]],\n  template: function PickerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"emoji-mart-anchors\", 2);\n      i0.ɵɵlistener(\"anchorClick\", function PickerComponent_Template_emoji_mart_anchors_anchorClick_2_listener($event) {\n        return ctx.handleAnchorClick($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(3, PickerComponent_emoji_search_3_Template, 1, 7, \"emoji-search\", 3);\n      i0.ɵɵelementStart(4, \"section\", 4, 5);\n      i0.ɵɵtemplate(6, PickerComponent_emoji_category_6_Template, 1, 23, \"emoji-category\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, PickerComponent_div_7_Template, 2, 11, \"div\", 7);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵclassMapInterpolate1(\"emoji-mart \", ctx.darkMode ? \"emoji-mart-dark\" : \"\", \"\");\n      i0.ɵɵstyleProp(\"width\", ctx.getWidth());\n      i0.ɵɵproperty(\"ngStyle\", ctx.style);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"categories\", ctx.categories)(\"color\", ctx.color)(\"selected\", ctx.selected)(\"i18n\", ctx.i18n)(\"icons\", ctx.categoriesIcons);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.enableSearch);\n      i0.ɵɵadvance(1);\n      i0.ɵɵattribute(\"aria-label\", ctx.i18n.emojilist);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.activeCategories)(\"ngForTrackBy\", ctx.categoryTrack);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showPreview);\n    }\n  },\n  directives: [AnchorsComponent, SearchComponent, CategoryComponent, PreviewComponent, i3.NgStyle, i3.NgIf, i3.NgForOf],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PickerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'emoji-mart',\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      preserveWhitespaces: false,\n      template: \"<section\\n  class=\\\"emoji-mart {{ darkMode ? 'emoji-mart-dark' : '' }}\\\"\\n  [style.width]=\\\"getWidth()\\\"\\n  [ngStyle]=\\\"style\\\"\\n>\\n  <div class=\\\"emoji-mart-bar\\\">\\n    <emoji-mart-anchors\\n      [categories]=\\\"categories\\\"\\n      (anchorClick)=\\\"handleAnchorClick($event)\\\"\\n      [color]=\\\"color\\\"\\n      [selected]=\\\"selected\\\"\\n      [i18n]=\\\"i18n\\\"\\n      [icons]=\\\"categoriesIcons\\\"\\n    ></emoji-mart-anchors>\\n  </div>\\n  <emoji-search\\n    *ngIf=\\\"enableSearch\\\"\\n    [i18n]=\\\"i18n\\\"\\n    (searchResults)=\\\"handleSearch($event)\\\"\\n    (enterKey)=\\\"handleEnterKey($event)\\\"\\n    [include]=\\\"include\\\"\\n    [exclude]=\\\"exclude\\\"\\n    [custom]=\\\"custom\\\"\\n    [autoFocus]=\\\"autoFocus\\\"\\n    [icons]=\\\"searchIcons\\\"\\n    [emojisToShowFilter]=\\\"emojisToShowFilter\\\"\\n  ></emoji-search>\\n  <section #scrollRef class=\\\"emoji-mart-scroll\\\" [attr.aria-label]=\\\"i18n.emojilist\\\">\\n    <emoji-category\\n      *ngFor=\\\"let category of activeCategories; let idx = index; trackBy: categoryTrack\\\"\\n      [id]=\\\"category.id\\\"\\n      [name]=\\\"category.name\\\"\\n      [emojis]=\\\"category.emojis\\\"\\n      [perLine]=\\\"perLine\\\"\\n      [totalFrequentLines]=\\\"totalFrequentLines\\\"\\n      [hasStickyPosition]=\\\"isNative\\\"\\n      [i18n]=\\\"i18n\\\"\\n      [hideObsolete]=\\\"hideObsolete\\\"\\n      [notFoundEmoji]=\\\"notFoundEmoji\\\"\\n      [custom]=\\\"category.id === RECENT_CATEGORY.id ? CUSTOM_CATEGORY.emojis : undefined\\\"\\n      [recent]=\\\"category.id === RECENT_CATEGORY.id ? recent : undefined\\\"\\n      [virtualize]=\\\"virtualize\\\"\\n      [virtualizeOffset]=\\\"virtualizeOffset\\\"\\n      [emojiIsNative]=\\\"isNative\\\"\\n      [emojiSkin]=\\\"skin\\\"\\n      [emojiSize]=\\\"emojiSize\\\"\\n      [emojiSet]=\\\"set\\\"\\n      [emojiSheetSize]=\\\"sheetSize\\\"\\n      [emojiForceSize]=\\\"isNative\\\"\\n      [emojiTooltip]=\\\"emojiTooltip\\\"\\n      [emojiBackgroundImageFn]=\\\"backgroundImageFn\\\"\\n      [emojiImageUrlFn]=\\\"imageUrlFn\\\"\\n      [emojiUseButton]=\\\"useButton\\\"\\n      (emojiOver)=\\\"handleEmojiOver($event)\\\"\\n      (emojiLeave)=\\\"handleEmojiLeave()\\\"\\n      (emojiClick)=\\\"handleEmojiClick($event)\\\"\\n    ></emoji-category>\\n  </section>\\n  <div class=\\\"emoji-mart-bar\\\" *ngIf=\\\"showPreview\\\">\\n    <emoji-preview\\n      [title]=\\\"title\\\"\\n      [emoji]=\\\"previewEmoji\\\"\\n      [idleEmoji]=\\\"emoji\\\"\\n      [emojiIsNative]=\\\"isNative\\\"\\n      [emojiSize]=\\\"38\\\"\\n      [emojiSkin]=\\\"skin\\\"\\n      [emojiSet]=\\\"set\\\"\\n      [i18n]=\\\"i18n\\\"\\n      [emojiSheetSize]=\\\"sheetSize\\\"\\n      [emojiBackgroundImageFn]=\\\"backgroundImageFn\\\"\\n      [emojiImageUrlFn]=\\\"imageUrlFn\\\"\\n      (skinChange)=\\\"handleSkinChange($event)\\\"\\n    ></emoji-preview>\\n  </div>\\n</section>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: i0.NgZone\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: EmojiFrequentlyService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }];\n  }, {\n    perLine: [{\n      type: Input\n    }],\n    totalFrequentLines: [{\n      type: Input\n    }],\n    i18n: [{\n      type: Input\n    }],\n    style: [{\n      type: Input\n    }],\n    title: [{\n      type: Input\n    }],\n    emoji: [{\n      type: Input\n    }],\n    darkMode: [{\n      type: Input\n    }],\n    color: [{\n      type: Input\n    }],\n    hideObsolete: [{\n      type: Input\n    }],\n    categories: [{\n      type: Input\n    }],\n    activeCategories: [{\n      type: Input\n    }],\n    set: [{\n      type: Input\n    }],\n    skin: [{\n      type: Input\n    }],\n    isNative: [{\n      type: Input\n    }],\n    emojiSize: [{\n      type: Input\n    }],\n    sheetSize: [{\n      type: Input\n    }],\n    emojisToShowFilter: [{\n      type: Input\n    }],\n    showPreview: [{\n      type: Input\n    }],\n    emojiTooltip: [{\n      type: Input\n    }],\n    autoFocus: [{\n      type: Input\n    }],\n    custom: [{\n      type: Input\n    }],\n    hideRecent: [{\n      type: Input\n    }],\n    imageUrlFn: [{\n      type: Input\n    }],\n    include: [{\n      type: Input\n    }],\n    exclude: [{\n      type: Input\n    }],\n    notFoundEmoji: [{\n      type: Input\n    }],\n    categoriesIcons: [{\n      type: Input\n    }],\n    searchIcons: [{\n      type: Input\n    }],\n    useButton: [{\n      type: Input\n    }],\n    enableFrequentEmojiSort: [{\n      type: Input\n    }],\n    enableSearch: [{\n      type: Input\n    }],\n    showSingleCategory: [{\n      type: Input\n    }],\n    virtualize: [{\n      type: Input\n    }],\n    virtualizeOffset: [{\n      type: Input\n    }],\n    recent: [{\n      type: Input\n    }],\n    emojiClick: [{\n      type: Output\n    }],\n    emojiSelect: [{\n      type: Output\n    }],\n    skinChange: [{\n      type: Output\n    }],\n    scrollRef: [{\n      type: ViewChild,\n      args: ['scrollRef', {\n        static: true\n      }]\n    }],\n    previewRef: [{\n      type: ViewChild,\n      args: [PreviewComponent, {\n        static: false\n      }]\n    }],\n    searchRef: [{\n      type: ViewChild,\n      args: [SearchComponent, {\n        static: false\n      }]\n    }],\n    categoryRefs: [{\n      type: ViewChildren,\n      args: [CategoryComponent]\n    }],\n    backgroundImageFn: [{\n      type: Input\n    }]\n  });\n})();\n\nclass PickerModule {}\n\nPickerModule.ɵfac = function PickerModule_Factory(t) {\n  return new (t || PickerModule)();\n};\n\nPickerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: PickerModule\n});\nPickerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, FormsModule, EmojiModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PickerModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, FormsModule, EmojiModule],\n      exports: [PickerComponent, AnchorsComponent, CategoryComponent, SearchComponent, PreviewComponent, SkinComponent],\n      declarations: [PickerComponent, AnchorsComponent, CategoryComponent, SearchComponent, PreviewComponent, SkinComponent]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { AnchorsComponent, CategoryComponent, EmojiFrequentlyService, EmojiSearch, PickerComponent, PickerModule, PreviewComponent, SearchComponent, SkinComponent };","map":{"version":3,"sources":["/Users/mahipalchoudhary/Documents/test/whatsappclone/node_modules/@ctrl/ngx-emoji-mart/fesm2015/ctrl-ngx-emoji-mart.mjs"],"names":["i0","EventEmitter","Component","ChangeDetectionStrategy","Input","Output","PLATFORM_ID","Injectable","Inject","ViewChild","ViewChildren","NgModule","i3","isPlatformBrowser","CommonModule","Subject","i1","categories","categories$1","EmojiModule","i2","FormsModule","AnchorsComponent","constructor","icons","anchorClick","trackByFn","idx","cat","id","handleClick","$event","index","emit","category","ɵfac","ɵcmp","NgForOf","NgIf","type","args","selector","template","changeDetection","OnPush","preserveWhitespaces","color","selected","i18n","EmojiFrequentlyService","platformId","NAMESPACE","frequently","defaults","initialized","DEFAULTS","init","JSON","parse","localStorage","getItem","add","emoji","setItem","stringify","get","perLine","totalLines","result","i","push","quantity","frequentlyKeys","Object","keys","sorted","sort","a","b","reverse","sliced","slice","last","includes","pop","ɵprov","providedIn","undefined","decorators","CategoryComponent","ref","emojiService","emojis","hasStickyPosition","name","totalFrequentLines","recent","custom","hideObsolete","virtualize","virtualizeOffset","emojiOver","emojiLeave","emojiClick","containerStyles","emojisToDisplay","filteredEmojisSubject","filteredEmojis$","asObservable","labelStyles","labelSpanStyles","margin","minMargin","maxMargin","top","rows","ngOnInit","updateRecentEmojis","filterEmojis","noEmojiToDisplay","display","height","ngOnChanges","changes","_a","_b","_c","_d","currentValue","length","previousValue","ngAfterViewInit","width","container","nativeElement","getBoundingClientRect","perRow","Math","floor","emojiSize","ceil","assign","minHeight","detectChanges","handleScroll","parentNode","scrollTop","memoizeSize","parent","parentTop","labelHeight","label","parentHeight","clientHeight","next","style","frequentlyUsed","map","filter","e","getData","updateDisplay","trackById","item","newEmojis","data","obsoletedBy","unified","ChangeDetectorRef","EmojiService","EmojiComponent","NgStyle","AsyncPipe","notFoundEmoji","emojiIsNative","emojiSkin","emojiSet","emojiSheetSize","emojiForceSize","emojiTooltip","emojiBackgroundImageFn","emojiImageUrlFn","emojiUseButton","static","uniq","arr","reduce","acc","intersect","uniqA","uniqB","indexOf","measureScrollbar","document","div","createElement","overflow","position","body","appendChild","scrollbarWidth","offsetWidth","clientWidth","removeChild","EmojiSearch","originalPool","emojisList","emoticonsList","emojiSearch","emojiData","shortNames","emoticons","emoticon","getSanitizedData","addCustomToPool","pool","emojiId","search","value","emojisToShowFilter","maxResults","include","exclude","results","values","toLowerCase","split","allResults","isIncluded","isExcluded","customIsIncluded","customIsExcluded","v","aPool","aIndex","charIndex","char","scores","buildSearch","short_names","keywords","query","sub","substr","subIndex","score","aScore","bScore","apply","names","addToSearch","strings","Array","isArray","str","substrings","s","join","SkinComponent","changeSkin","opened","skinTones","toggleOpen","isSelected","skinTone","skin","isVisible","pressed","tabIndex","expanded","PreviewComponent","skinChange","knownEmoticons","listedEmoticons","emoitcons","forEach","title","idleEmoji","SearchComponent","autoFocus","searchResults","enterKey","isSearching","inputId","icon","inputRef","focus","clear","handleSearch","handleEnterKey","preventDefault","delete","handleChange","DefaultValueAccessor","NgControlStatus","NgModel","activity","flags","foods","nature","objects","people","places","symbols","I18N","emojilist","notfound","skintones","PickerComponent","ngZone","renderer","darkMode","matchMedia","matches","activeCategories","set","isNative","sheetSize","showPreview","hideRecent","categoriesIcons","searchIcons","useButton","enableFrequentEmojiSort","enableSearch","showSingleCategory","emojiSelect","scrollHeight","firstRender","animationFrameRequestId","RECENT_CATEGORY","SEARCH_CATEGORY","anchor","CUSTOM_CATEGORY","backgroundImageFn","allCategories","emojiIndex","newCategory","includeRecent","excludeRecent","unshift","first","categoriesToLoadFirst","min","setActiveCategories","lastActiveCategoryEmojis","setTimeout","runOutsideAngular","requestAnimationFrame","updateCategoriesSize","scrollListener","listen","scrollRef","ngOnDestroy","call","cancelAnimationFrame","categoriesToMakeActive","x","categoryRefs","component","target","handleAnchorClick","searchRef","find","n","nextScroll","componentToScroll","categoryTrack","noSelectionChange","activeCategory","active","$emojis","toArray","markForCheck","handleEmojiOver","previewRef","customEmoji","previewEmoji","handleEmojiLeave","handleEmojiClick","handleSkinChange","String","getWidth","NgZone","Renderer2","imageUrlFn","PickerModule","ɵmod","ɵinj","imports","exports","declarations"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Input, Output, PLATFORM_ID, Injectable, Inject, ViewChild, ViewChildren, NgModule } from '@angular/core';\nimport * as i3 from '@angular/common';\nimport { isPlatformBrowser, CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport * as i1 from '@ctrl/ngx-emoji-mart/ngx-emoji';\nimport { categories as categories$1, EmojiModule } from '@ctrl/ngx-emoji-mart/ngx-emoji';\nimport * as i2 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\n\nclass AnchorsComponent {\n    constructor() {\n        this.categories = [];\n        this.icons = {};\n        this.anchorClick = new EventEmitter();\n    }\n    trackByFn(idx, cat) {\n        return cat.id;\n    }\n    handleClick($event, index) {\n        this.anchorClick.emit({\n            category: this.categories[index],\n            index,\n        });\n    }\n}\nAnchorsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: AnchorsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nAnchorsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.2\", type: AnchorsComponent, selector: \"emoji-mart-anchors\", inputs: { categories: \"categories\", color: \"color\", selected: \"selected\", i18n: \"i18n\", icons: \"icons\" }, outputs: { anchorClick: \"anchorClick\" }, ngImport: i0, template: `\n  <div class=\"emoji-mart-anchors\">\n    <ng-template ngFor let-category [ngForOf]=\"categories\" let-idx=\"index\" [ngForTrackBy]=\"trackByFn\">\n      <span\n        *ngIf=\"category.anchor !== false\"\n        [attr.title]=\"i18n.categories[category.id]\"\n        (click)=\"this.handleClick($event, idx)\"\n        class=\"emoji-mart-anchor\"\n        [class.emoji-mart-anchor-selected]=\"category.name === selected\"\n        [style.color]=\"category.name === selected ? color : null\"\n      >\n        <div>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n            <path [attr.d]=\"icons[category.id]\" />\n          </svg>\n        </div>\n        <span class=\"emoji-mart-anchor-bar\" [style.background-color]=\"color\"></span>\n      </span>\n    </ng-template>\n  </div>\n  `, isInline: true, directives: [{ type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: AnchorsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'emoji-mart-anchors',\n                    template: `\n  <div class=\"emoji-mart-anchors\">\n    <ng-template ngFor let-category [ngForOf]=\"categories\" let-idx=\"index\" [ngForTrackBy]=\"trackByFn\">\n      <span\n        *ngIf=\"category.anchor !== false\"\n        [attr.title]=\"i18n.categories[category.id]\"\n        (click)=\"this.handleClick($event, idx)\"\n        class=\"emoji-mart-anchor\"\n        [class.emoji-mart-anchor-selected]=\"category.name === selected\"\n        [style.color]=\"category.name === selected ? color : null\"\n      >\n        <div>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n            <path [attr.d]=\"icons[category.id]\" />\n          </svg>\n        </div>\n        <span class=\"emoji-mart-anchor-bar\" [style.background-color]=\"color\"></span>\n      </span>\n    </ng-template>\n  </div>\n  `,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    preserveWhitespaces: false,\n                }]\n        }], propDecorators: { categories: [{\n                type: Input\n            }], color: [{\n                type: Input\n            }], selected: [{\n                type: Input\n            }], i18n: [{\n                type: Input\n            }], icons: [{\n                type: Input\n            }], anchorClick: [{\n                type: Output\n            }] } });\n\nclass EmojiFrequentlyService {\n    constructor(platformId) {\n        this.platformId = platformId;\n        this.NAMESPACE = 'emoji-mart';\n        this.frequently = null;\n        this.defaults = {};\n        this.initialized = false;\n        this.DEFAULTS = [\n            '+1',\n            'grinning',\n            'kissing_heart',\n            'heart_eyes',\n            'laughing',\n            'stuck_out_tongue_winking_eye',\n            'sweat_smile',\n            'joy',\n            'scream',\n            'disappointed',\n            'unamused',\n            'weary',\n            'sob',\n            'sunglasses',\n            'heart',\n            'poop',\n        ];\n    }\n    init() {\n        this.frequently = JSON.parse((isPlatformBrowser(this.platformId) &&\n            localStorage.getItem(`${this.NAMESPACE}.frequently`)) ||\n            'null');\n        this.initialized = true;\n    }\n    add(emoji) {\n        if (!this.initialized) {\n            this.init();\n        }\n        if (!this.frequently) {\n            this.frequently = this.defaults;\n        }\n        if (!this.frequently[emoji.id]) {\n            this.frequently[emoji.id] = 0;\n        }\n        this.frequently[emoji.id] += 1;\n        if (isPlatformBrowser(this.platformId)) {\n            localStorage.setItem(`${this.NAMESPACE}.last`, emoji.id);\n            localStorage.setItem(`${this.NAMESPACE}.frequently`, JSON.stringify(this.frequently));\n        }\n    }\n    get(perLine, totalLines) {\n        if (!this.initialized) {\n            this.init();\n        }\n        if (this.frequently === null) {\n            this.defaults = {};\n            const result = [];\n            for (let i = 0; i < perLine; i++) {\n                this.defaults[this.DEFAULTS[i]] = perLine - i;\n                result.push(this.DEFAULTS[i]);\n            }\n            return result;\n        }\n        const quantity = perLine * totalLines;\n        const frequentlyKeys = Object.keys(this.frequently);\n        const sorted = frequentlyKeys\n            .sort((a, b) => this.frequently[a] - this.frequently[b])\n            .reverse();\n        const sliced = sorted.slice(0, quantity);\n        const last = isPlatformBrowser(this.platformId) && localStorage.getItem(`${this.NAMESPACE}.last`);\n        if (last && !sliced.includes(last)) {\n            sliced.pop();\n            sliced.push(last);\n        }\n        return sliced;\n    }\n}\nEmojiFrequentlyService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: EmojiFrequentlyService, deps: [{ token: PLATFORM_ID }], target: i0.ɵɵFactoryTarget.Injectable });\nEmojiFrequentlyService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: EmojiFrequentlyService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: EmojiFrequentlyService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () {\n        return [{ type: undefined, decorators: [{\n                        type: Inject,\n                        args: [PLATFORM_ID]\n                    }] }];\n    } });\n\nclass CategoryComponent {\n    constructor(ref, emojiService, frequently) {\n        this.ref = ref;\n        this.emojiService = emojiService;\n        this.frequently = frequently;\n        this.emojis = null;\n        this.hasStickyPosition = true;\n        this.name = '';\n        this.perLine = 9;\n        this.totalFrequentLines = 4;\n        this.recent = [];\n        this.custom = [];\n        this.hideObsolete = true;\n        this.virtualize = false;\n        this.virtualizeOffset = 0;\n        this.emojiOver = new EventEmitter();\n        this.emojiLeave = new EventEmitter();\n        this.emojiClick = new EventEmitter();\n        this.containerStyles = {};\n        this.emojisToDisplay = [];\n        this.filteredEmojisSubject = new Subject();\n        this.filteredEmojis$ = this.filteredEmojisSubject.asObservable();\n        this.labelStyles = {};\n        this.labelSpanStyles = {};\n        this.margin = 0;\n        this.minMargin = 0;\n        this.maxMargin = 0;\n        this.top = 0;\n        this.rows = 0;\n    }\n    ngOnInit() {\n        this.updateRecentEmojis();\n        this.emojisToDisplay = this.filterEmojis();\n        if (this.noEmojiToDisplay) {\n            this.containerStyles = { display: 'none' };\n        }\n        if (!this.hasStickyPosition) {\n            this.labelStyles = { height: 28 };\n            // this.labelSpanStyles = { position: 'absolute' };\n        }\n    }\n    ngOnChanges(changes) {\n        var _a, _b, _c, _d;\n        if (((_b = (_a = changes.emojis) === null || _a === void 0 ? void 0 : _a.currentValue) === null || _b === void 0 ? void 0 : _b.length) !== ((_d = (_c = changes.emojis) === null || _c === void 0 ? void 0 : _c.previousValue) === null || _d === void 0 ? void 0 : _d.length)) {\n            this.emojisToDisplay = this.filterEmojis();\n            this.ngAfterViewInit();\n        }\n    }\n    ngAfterViewInit() {\n        var _a;\n        if (!this.virtualize) {\n            return;\n        }\n        const { width } = this.container.nativeElement.getBoundingClientRect();\n        const perRow = Math.floor(width / (this.emojiSize + 12));\n        this.rows = Math.ceil(this.emojisToDisplay.length / perRow);\n        this.containerStyles = Object.assign(Object.assign({}, this.containerStyles), { minHeight: `${this.rows * (this.emojiSize + 12) + 28}px` });\n        (_a = this.ref) === null || _a === void 0 ? void 0 : _a.detectChanges();\n        this.handleScroll(this.container.nativeElement.parentNode.parentNode.scrollTop);\n    }\n    get noEmojiToDisplay() {\n        return this.emojisToDisplay.length === 0;\n    }\n    memoizeSize() {\n        const parent = this.container.nativeElement.parentNode.parentNode;\n        const { top, height } = this.container.nativeElement.getBoundingClientRect();\n        const parentTop = parent.getBoundingClientRect().top;\n        const labelHeight = this.label.nativeElement.getBoundingClientRect().height;\n        this.top = top - parentTop + parent.scrollTop;\n        if (height === 0) {\n            this.maxMargin = 0;\n        }\n        else {\n            this.maxMargin = height - labelHeight;\n        }\n    }\n    handleScroll(scrollTop) {\n        let margin = scrollTop - this.top;\n        margin = margin < this.minMargin ? this.minMargin : margin;\n        margin = margin > this.maxMargin ? this.maxMargin : margin;\n        if (this.virtualize) {\n            const { top, height } = this.container.nativeElement.getBoundingClientRect();\n            const parentHeight = this.container.nativeElement.parentNode.parentNode.clientHeight;\n            if (parentHeight + (parentHeight + this.virtualizeOffset) >= top && -height - (parentHeight + this.virtualizeOffset) <= top) {\n                this.filteredEmojisSubject.next(this.emojisToDisplay);\n            }\n            else {\n                this.filteredEmojisSubject.next([]);\n            }\n        }\n        if (margin === this.margin) {\n            this.ref.detectChanges();\n            return false;\n        }\n        if (!this.hasStickyPosition) {\n            this.label.nativeElement.style.top = `${margin}px`;\n        }\n        this.margin = margin;\n        this.ref.detectChanges();\n        return true;\n    }\n    updateRecentEmojis() {\n        if (this.name !== 'Recent') {\n            return;\n        }\n        let frequentlyUsed = this.recent || this.frequently.get(this.perLine, this.totalFrequentLines);\n        if (!frequentlyUsed || !frequentlyUsed.length) {\n            frequentlyUsed = this.frequently.get(this.perLine, this.totalFrequentLines);\n        }\n        if (!frequentlyUsed.length) {\n            return;\n        }\n        this.emojis = frequentlyUsed\n            .map(id => {\n            const emoji = this.custom.filter((e) => e.id === id)[0];\n            if (emoji) {\n                return emoji;\n            }\n            return id;\n        })\n            .filter(id => !!this.emojiService.getData(id));\n    }\n    updateDisplay(display) {\n        this.containerStyles.display = display;\n        this.updateRecentEmojis();\n        this.ref.detectChanges();\n    }\n    trackById(index, item) {\n        return item;\n    }\n    filterEmojis() {\n        const newEmojis = [];\n        for (const emoji of this.emojis || []) {\n            if (!emoji) {\n                continue;\n            }\n            const data = this.emojiService.getData(emoji);\n            if (!data || (data.obsoletedBy && this.hideObsolete) || (!data.unified && !data.custom)) {\n                continue;\n            }\n            newEmojis.push(emoji);\n        }\n        return newEmojis;\n    }\n}\nCategoryComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: CategoryComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i1.EmojiService }, { token: EmojiFrequentlyService }], target: i0.ɵɵFactoryTarget.Component });\nCategoryComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.2\", type: CategoryComponent, selector: \"emoji-category\", inputs: { emojis: \"emojis\", hasStickyPosition: \"hasStickyPosition\", name: \"name\", perLine: \"perLine\", totalFrequentLines: \"totalFrequentLines\", recent: \"recent\", custom: \"custom\", i18n: \"i18n\", id: \"id\", hideObsolete: \"hideObsolete\", notFoundEmoji: \"notFoundEmoji\", virtualize: \"virtualize\", virtualizeOffset: \"virtualizeOffset\", emojiIsNative: \"emojiIsNative\", emojiSkin: \"emojiSkin\", emojiSize: \"emojiSize\", emojiSet: \"emojiSet\", emojiSheetSize: \"emojiSheetSize\", emojiForceSize: \"emojiForceSize\", emojiTooltip: \"emojiTooltip\", emojiBackgroundImageFn: \"emojiBackgroundImageFn\", emojiImageUrlFn: \"emojiImageUrlFn\", emojiUseButton: \"emojiUseButton\" }, outputs: { emojiOver: \"emojiOver\", emojiLeave: \"emojiLeave\", emojiClick: \"emojiClick\" }, viewQueries: [{ propertyName: \"container\", first: true, predicate: [\"container\"], descendants: true, static: true }, { propertyName: \"label\", first: true, predicate: [\"label\"], descendants: true, static: true }], usesOnChanges: true, ngImport: i0, template: `\n    <section\n      #container\n      class=\"emoji-mart-category\"\n      [attr.aria-label]=\"i18n.categories[id]\"\n      [class.emoji-mart-no-results]=\"noEmojiToDisplay\"\n      [ngStyle]=\"containerStyles\"\n    >\n      <div class=\"emoji-mart-category-label\" [ngStyle]=\"labelStyles\" [attr.data-name]=\"name\">\n        <!-- already labeled by the section aria-label -->\n        <span #label [ngStyle]=\"labelSpanStyles\" aria-hidden=\"true\">\n          {{ i18n.categories[id] }}\n        </span>\n      </div>\n\n      <div\n        *ngIf=\"virtualize; else normalRenderTemplate\"\n      >\n        <div *ngIf=\"filteredEmojis$ | async as filteredEmojis\">\n          <ngx-emoji\n            *ngFor=\"let emoji of filteredEmojis; trackBy: trackById\"\n            [emoji]=\"emoji\"\n            [size]=\"emojiSize\"\n            [skin]=\"emojiSkin\"\n            [isNative]=\"emojiIsNative\"\n            [set]=\"emojiSet\"\n            [sheetSize]=\"emojiSheetSize\"\n            [forceSize]=\"emojiForceSize\"\n            [tooltip]=\"emojiTooltip\"\n            [backgroundImageFn]=\"emojiBackgroundImageFn\"\n            [imageUrlFn]=\"emojiImageUrlFn\"\n            [hideObsolete]=\"hideObsolete\"\n            [useButton]=\"emojiUseButton\"\n            (emojiOver)=\"emojiOver.emit($event)\"\n            (emojiLeave)=\"emojiLeave.emit($event)\"\n            (emojiClick)=\"emojiClick.emit($event)\"\n          ></ngx-emoji>\n        </div>\n      </div>\n\n      <div *ngIf=\"noEmojiToDisplay\">\n        <div>\n          <ngx-emoji\n            [emoji]=\"notFoundEmoji\"\n            [size]=\"38\"\n            [skin]=\"emojiSkin\"\n            [isNative]=\"emojiIsNative\"\n            [set]=\"emojiSet\"\n            [sheetSize]=\"emojiSheetSize\"\n            [forceSize]=\"emojiForceSize\"\n            [tooltip]=\"emojiTooltip\"\n            [backgroundImageFn]=\"emojiBackgroundImageFn\"\n            [useButton]=\"emojiUseButton\"\n          ></ngx-emoji>\n        </div>\n\n        <div class=\"emoji-mart-no-results-label\">\n          {{ i18n.notfound }}\n        </div>\n      </div>\n    </section>\n\n    <ng-template #normalRenderTemplate>\n        <ngx-emoji\n          *ngFor=\"let emoji of emojisToDisplay; trackBy: trackById\"\n          [emoji]=\"emoji\"\n          [size]=\"emojiSize\"\n          [skin]=\"emojiSkin\"\n          [isNative]=\"emojiIsNative\"\n          [set]=\"emojiSet\"\n          [sheetSize]=\"emojiSheetSize\"\n          [forceSize]=\"emojiForceSize\"\n          [tooltip]=\"emojiTooltip\"\n          [backgroundImageFn]=\"emojiBackgroundImageFn\"\n          [imageUrlFn]=\"emojiImageUrlFn\"\n          [hideObsolete]=\"hideObsolete\"\n          [useButton]=\"emojiUseButton\"\n          (emojiOver)=\"emojiOver.emit($event)\"\n          (emojiLeave)=\"emojiLeave.emit($event)\"\n          (emojiClick)=\"emojiClick.emit($event)\"\n        ></ngx-emoji>\n    </ng-template>\n  `, isInline: true, components: [{ type: i1.EmojiComponent, selector: \"ngx-emoji\", inputs: [\"skin\", \"set\", \"sheetSize\", \"isNative\", \"forceSize\", \"tooltip\", \"size\", \"emoji\", \"fallback\", \"hideObsolete\", \"sheetRows\", \"sheetColumns\", \"useButton\", \"backgroundImageFn\", \"imageUrlFn\"], outputs: [\"emojiOver\", \"emojiLeave\", \"emojiClick\"] }], directives: [{ type: i3.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: CategoryComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'emoji-category',\n                    template: `\n    <section\n      #container\n      class=\"emoji-mart-category\"\n      [attr.aria-label]=\"i18n.categories[id]\"\n      [class.emoji-mart-no-results]=\"noEmojiToDisplay\"\n      [ngStyle]=\"containerStyles\"\n    >\n      <div class=\"emoji-mart-category-label\" [ngStyle]=\"labelStyles\" [attr.data-name]=\"name\">\n        <!-- already labeled by the section aria-label -->\n        <span #label [ngStyle]=\"labelSpanStyles\" aria-hidden=\"true\">\n          {{ i18n.categories[id] }}\n        </span>\n      </div>\n\n      <div\n        *ngIf=\"virtualize; else normalRenderTemplate\"\n      >\n        <div *ngIf=\"filteredEmojis$ | async as filteredEmojis\">\n          <ngx-emoji\n            *ngFor=\"let emoji of filteredEmojis; trackBy: trackById\"\n            [emoji]=\"emoji\"\n            [size]=\"emojiSize\"\n            [skin]=\"emojiSkin\"\n            [isNative]=\"emojiIsNative\"\n            [set]=\"emojiSet\"\n            [sheetSize]=\"emojiSheetSize\"\n            [forceSize]=\"emojiForceSize\"\n            [tooltip]=\"emojiTooltip\"\n            [backgroundImageFn]=\"emojiBackgroundImageFn\"\n            [imageUrlFn]=\"emojiImageUrlFn\"\n            [hideObsolete]=\"hideObsolete\"\n            [useButton]=\"emojiUseButton\"\n            (emojiOver)=\"emojiOver.emit($event)\"\n            (emojiLeave)=\"emojiLeave.emit($event)\"\n            (emojiClick)=\"emojiClick.emit($event)\"\n          ></ngx-emoji>\n        </div>\n      </div>\n\n      <div *ngIf=\"noEmojiToDisplay\">\n        <div>\n          <ngx-emoji\n            [emoji]=\"notFoundEmoji\"\n            [size]=\"38\"\n            [skin]=\"emojiSkin\"\n            [isNative]=\"emojiIsNative\"\n            [set]=\"emojiSet\"\n            [sheetSize]=\"emojiSheetSize\"\n            [forceSize]=\"emojiForceSize\"\n            [tooltip]=\"emojiTooltip\"\n            [backgroundImageFn]=\"emojiBackgroundImageFn\"\n            [useButton]=\"emojiUseButton\"\n          ></ngx-emoji>\n        </div>\n\n        <div class=\"emoji-mart-no-results-label\">\n          {{ i18n.notfound }}\n        </div>\n      </div>\n    </section>\n\n    <ng-template #normalRenderTemplate>\n        <ngx-emoji\n          *ngFor=\"let emoji of emojisToDisplay; trackBy: trackById\"\n          [emoji]=\"emoji\"\n          [size]=\"emojiSize\"\n          [skin]=\"emojiSkin\"\n          [isNative]=\"emojiIsNative\"\n          [set]=\"emojiSet\"\n          [sheetSize]=\"emojiSheetSize\"\n          [forceSize]=\"emojiForceSize\"\n          [tooltip]=\"emojiTooltip\"\n          [backgroundImageFn]=\"emojiBackgroundImageFn\"\n          [imageUrlFn]=\"emojiImageUrlFn\"\n          [hideObsolete]=\"hideObsolete\"\n          [useButton]=\"emojiUseButton\"\n          (emojiOver)=\"emojiOver.emit($event)\"\n          (emojiLeave)=\"emojiLeave.emit($event)\"\n          (emojiClick)=\"emojiClick.emit($event)\"\n        ></ngx-emoji>\n    </ng-template>\n  `,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    preserveWhitespaces: false,\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i1.EmojiService }, { type: EmojiFrequentlyService }]; }, propDecorators: { emojis: [{\n                type: Input\n            }], hasStickyPosition: [{\n                type: Input\n            }], name: [{\n                type: Input\n            }], perLine: [{\n                type: Input\n            }], totalFrequentLines: [{\n                type: Input\n            }], recent: [{\n                type: Input\n            }], custom: [{\n                type: Input\n            }], i18n: [{\n                type: Input\n            }], id: [{\n                type: Input\n            }], hideObsolete: [{\n                type: Input\n            }], notFoundEmoji: [{\n                type: Input\n            }], virtualize: [{\n                type: Input\n            }], virtualizeOffset: [{\n                type: Input\n            }], emojiIsNative: [{\n                type: Input\n            }], emojiSkin: [{\n                type: Input\n            }], emojiSize: [{\n                type: Input\n            }], emojiSet: [{\n                type: Input\n            }], emojiSheetSize: [{\n                type: Input\n            }], emojiForceSize: [{\n                type: Input\n            }], emojiTooltip: [{\n                type: Input\n            }], emojiBackgroundImageFn: [{\n                type: Input\n            }], emojiImageUrlFn: [{\n                type: Input\n            }], emojiUseButton: [{\n                type: Input\n            }], emojiOver: [{\n                type: Output\n            }], emojiLeave: [{\n                type: Output\n            }], emojiClick: [{\n                type: Output\n            }], container: [{\n                type: ViewChild,\n                args: ['container', { static: true }]\n            }], label: [{\n                type: ViewChild,\n                args: ['label', { static: true }]\n            }] } });\n\nfunction uniq(arr) {\n    return arr.reduce((acc, item) => {\n        if (!acc.includes(item)) {\n            acc.push(item);\n        }\n        return acc;\n    }, []);\n}\nfunction intersect(a, b) {\n    const uniqA = uniq(a);\n    const uniqB = uniq(b);\n    return uniqA.filter((item) => uniqB.indexOf(item) >= 0);\n}\n// https://github.com/sonicdoe/measure-scrollbar\nfunction measureScrollbar() {\n    if (typeof document === 'undefined') {\n        return 0;\n    }\n    const div = document.createElement('div');\n    div.style.width = '100px';\n    div.style.height = '100px';\n    div.style.overflow = 'scroll';\n    div.style.position = 'absolute';\n    div.style.top = '-9999px';\n    document.body.appendChild(div);\n    const scrollbarWidth = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n    return scrollbarWidth;\n}\n\nclass EmojiSearch {\n    constructor(emojiService) {\n        this.emojiService = emojiService;\n        this.originalPool = {};\n        this.index = {};\n        this.emojisList = {};\n        this.emoticonsList = {};\n        this.emojiSearch = {};\n        for (const emojiData of this.emojiService.emojis) {\n            const { shortNames, emoticons } = emojiData;\n            const id = shortNames[0];\n            for (const emoticon of emoticons) {\n                if (this.emoticonsList[emoticon]) {\n                    continue;\n                }\n                this.emoticonsList[emoticon] = id;\n            }\n            this.emojisList[id] = this.emojiService.getSanitizedData(id);\n            this.originalPool[id] = emojiData;\n        }\n    }\n    addCustomToPool(custom, pool) {\n        for (const emoji of custom) {\n            const emojiId = emoji.id || emoji.shortNames[0];\n            if (emojiId && !pool[emojiId]) {\n                pool[emojiId] = this.emojiService.getData(emoji);\n                this.emojisList[emojiId] = this.emojiService.getSanitizedData(emoji);\n            }\n        }\n    }\n    search(value, emojisToShowFilter, maxResults = 75, include = [], exclude = [], custom = []) {\n        var _a;\n        this.addCustomToPool(custom, this.originalPool);\n        let results;\n        let pool = this.originalPool;\n        if (value.length) {\n            if (value === '-' || value === '-1') {\n                return [this.emojisList['-1']];\n            }\n            if (value === '+' || value === '+1') {\n                return [this.emojisList['+1']];\n            }\n            let values = value.toLowerCase().split(/[\\s|,|\\-|_]+/);\n            let allResults = [];\n            if (values.length > 2) {\n                values = [values[0], values[1]];\n            }\n            if (include.length || exclude.length) {\n                pool = {};\n                for (const category of categories$1 || []) {\n                    const isIncluded = include && include.length ? include.indexOf(category.id) > -1 : true;\n                    const isExcluded = exclude && exclude.length ? exclude.indexOf(category.id) > -1 : false;\n                    if (!isIncluded || isExcluded) {\n                        continue;\n                    }\n                    for (const emojiId of category.emojis || []) {\n                        // Need to make sure that pool gets keyed\n                        // with the correct id, which is why we call emojiService.getData below\n                        const emoji = this.emojiService.getData(emojiId);\n                        pool[(_a = emoji === null || emoji === void 0 ? void 0 : emoji.id) !== null && _a !== void 0 ? _a : ''] = emoji;\n                    }\n                }\n                if (custom.length) {\n                    const customIsIncluded = include && include.length ? include.indexOf('custom') > -1 : true;\n                    const customIsExcluded = exclude && exclude.length ? exclude.indexOf('custom') > -1 : false;\n                    if (customIsIncluded && !customIsExcluded) {\n                        this.addCustomToPool(custom, pool);\n                    }\n                }\n            }\n            allResults = values\n                .map(v => {\n                let aPool = pool;\n                let aIndex = this.index;\n                let length = 0;\n                // eslint-disable-next-line @typescript-eslint/prefer-for-of\n                for (let charIndex = 0; charIndex < v.length; charIndex++) {\n                    const char = v[charIndex];\n                    length++;\n                    if (!aIndex[char]) {\n                        aIndex[char] = {};\n                    }\n                    aIndex = aIndex[char];\n                    if (!aIndex.results) {\n                        const scores = {};\n                        aIndex.results = [];\n                        aIndex.pool = {};\n                        for (const id of Object.keys(aPool)) {\n                            const emoji = aPool[id];\n                            if (!this.emojiSearch[id]) {\n                                this.emojiSearch[id] = this.buildSearch(emoji.short_names, emoji.name, emoji.id, emoji.keywords, emoji.emoticons);\n                            }\n                            const query = this.emojiSearch[id];\n                            const sub = v.substr(0, length);\n                            const subIndex = query.indexOf(sub);\n                            if (subIndex !== -1) {\n                                let score = subIndex + 1;\n                                if (sub === id) {\n                                    score = 0;\n                                }\n                                aIndex.results.push(this.emojisList[id]);\n                                aIndex.pool[id] = emoji;\n                                scores[id] = score;\n                            }\n                        }\n                        aIndex.results.sort((a, b) => {\n                            const aScore = scores[a.id];\n                            const bScore = scores[b.id];\n                            return aScore - bScore;\n                        });\n                    }\n                    aPool = aIndex.pool;\n                }\n                return aIndex.results;\n            })\n                .filter(a => a);\n            if (allResults.length > 1) {\n                results = intersect.apply(null, allResults);\n            }\n            else if (allResults.length) {\n                results = allResults[0];\n            }\n            else {\n                results = [];\n            }\n        }\n        if (results) {\n            if (emojisToShowFilter) {\n                results = results.filter((result) => {\n                    if (result && result.id) {\n                        return emojisToShowFilter(this.emojiService.names[result.id]);\n                    }\n                    return false;\n                });\n            }\n            if (results && results.length > maxResults) {\n                results = results.slice(0, maxResults);\n            }\n        }\n        return results || null;\n    }\n    buildSearch(shortNames, name, id, keywords, emoticons) {\n        const search = [];\n        const addToSearch = (strings, split) => {\n            if (!strings) {\n                return;\n            }\n            const arr = Array.isArray(strings) ? strings : [strings];\n            for (const str of arr) {\n                const substrings = split ? str.split(/[-|_|\\s]+/) : [str];\n                for (let s of substrings) {\n                    s = s.toLowerCase();\n                    if (!search.includes(s)) {\n                        search.push(s);\n                    }\n                }\n            }\n        };\n        addToSearch(shortNames, true);\n        addToSearch(name, true);\n        addToSearch(id, true);\n        addToSearch(keywords, true);\n        addToSearch(emoticons, false);\n        return search.join(',');\n    }\n}\nEmojiSearch.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: EmojiSearch, deps: [{ token: i1.EmojiService }], target: i0.ɵɵFactoryTarget.Injectable });\nEmojiSearch.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: EmojiSearch, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: EmojiSearch, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () { return [{ type: i1.EmojiService }]; } });\n\nclass SkinComponent {\n    constructor() {\n        this.changeSkin = new EventEmitter();\n        this.opened = false;\n        this.skinTones = [1, 2, 3, 4, 5, 6];\n    }\n    toggleOpen() {\n        this.opened = !this.opened;\n    }\n    isSelected(skinTone) {\n        return skinTone === this.skin;\n    }\n    isVisible(skinTone) {\n        return this.opened || this.isSelected(skinTone);\n    }\n    pressed(skinTone) {\n        return this.opened ? !!this.isSelected(skinTone) : '';\n    }\n    tabIndex(skinTone) {\n        return this.isVisible(skinTone) ? '0' : '';\n    }\n    expanded(skinTone) {\n        return this.isSelected(skinTone) ? this.opened : '';\n    }\n    handleClick(skin) {\n        if (!this.opened) {\n            this.opened = true;\n            return;\n        }\n        this.opened = false;\n        if (skin !== this.skin) {\n            this.changeSkin.emit(skin);\n        }\n    }\n}\nSkinComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: SkinComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nSkinComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.2\", type: SkinComponent, selector: \"emoji-skins\", inputs: { skin: \"skin\", i18n: \"i18n\" }, outputs: { changeSkin: \"changeSkin\" }, ngImport: i0, template: `\n    <section\n      class=\"emoji-mart-skin-swatches\"\n      [class.opened]=\"opened\"\n    >\n      <span\n        *ngFor=\"let skinTone of skinTones\"\n        class=\"emoji-mart-skin-swatch\"\n        [class.selected]=\"skinTone === skin\"\n      >\n        <span\n          (click)=\"handleClick(skinTone)\"\n          (keyup.enter)=\"handleClick(skinTone)\"\n          (keyup.space)=\"handleClick(skinTone)\"\n          class=\"emoji-mart-skin emoji-mart-skin-tone-{{ skinTone }}\"\n          role=\"button\"\n          [tabIndex]=\"tabIndex(skinTone)\"\n          [attr.aria-hidden]=\"!isVisible(skinTone)\"\n          [attr.aria-pressed]=\"pressed(skinTone)\"\n          [attr.aria-haspopup]=\"!!isSelected(skinTone)\"\n          [attr.aria-expanded]=\"expanded(skinTone)\"\n          [attr.aria-label]=\"i18n.skintones[skinTone]\"\n          [title]=\"i18n.skintones[skinTone]\"\n        ></span>\n      </span>\n    </section>\n  `, isInline: true, directives: [{ type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: SkinComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'emoji-skins',\n                    template: `\n    <section\n      class=\"emoji-mart-skin-swatches\"\n      [class.opened]=\"opened\"\n    >\n      <span\n        *ngFor=\"let skinTone of skinTones\"\n        class=\"emoji-mart-skin-swatch\"\n        [class.selected]=\"skinTone === skin\"\n      >\n        <span\n          (click)=\"handleClick(skinTone)\"\n          (keyup.enter)=\"handleClick(skinTone)\"\n          (keyup.space)=\"handleClick(skinTone)\"\n          class=\"emoji-mart-skin emoji-mart-skin-tone-{{ skinTone }}\"\n          role=\"button\"\n          [tabIndex]=\"tabIndex(skinTone)\"\n          [attr.aria-hidden]=\"!isVisible(skinTone)\"\n          [attr.aria-pressed]=\"pressed(skinTone)\"\n          [attr.aria-haspopup]=\"!!isSelected(skinTone)\"\n          [attr.aria-expanded]=\"expanded(skinTone)\"\n          [attr.aria-label]=\"i18n.skintones[skinTone]\"\n          [title]=\"i18n.skintones[skinTone]\"\n        ></span>\n      </span>\n    </section>\n  `,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    preserveWhitespaces: false,\n                }]\n        }], propDecorators: { skin: [{\n                type: Input\n            }], i18n: [{\n                type: Input\n            }], changeSkin: [{\n                type: Output\n            }] } });\n\nclass PreviewComponent {\n    constructor(ref, emojiService) {\n        this.ref = ref;\n        this.emojiService = emojiService;\n        this.skinChange = new EventEmitter();\n        this.emojiData = {};\n    }\n    ngOnChanges() {\n        var _a;\n        if (!this.emoji) {\n            return;\n        }\n        this.emojiData = this.emojiService.getData(this.emoji, this.emojiSkin, this.emojiSet);\n        const knownEmoticons = [];\n        const listedEmoticons = [];\n        const emoitcons = this.emojiData.emoticons || [];\n        emoitcons.forEach((emoticon) => {\n            if (knownEmoticons.indexOf(emoticon.toLowerCase()) >= 0) {\n                return;\n            }\n            knownEmoticons.push(emoticon.toLowerCase());\n            listedEmoticons.push(emoticon);\n        });\n        this.listedEmoticons = listedEmoticons;\n        (_a = this.ref) === null || _a === void 0 ? void 0 : _a.detectChanges();\n    }\n}\nPreviewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: PreviewComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i1.EmojiService }], target: i0.ɵɵFactoryTarget.Component });\nPreviewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.2\", type: PreviewComponent, selector: \"emoji-preview\", inputs: { title: \"title\", emoji: \"emoji\", idleEmoji: \"idleEmoji\", i18n: \"i18n\", emojiIsNative: \"emojiIsNative\", emojiSkin: \"emojiSkin\", emojiSize: \"emojiSize\", emojiSet: \"emojiSet\", emojiSheetSize: \"emojiSheetSize\", emojiBackgroundImageFn: \"emojiBackgroundImageFn\", emojiImageUrlFn: \"emojiImageUrlFn\" }, outputs: { skinChange: \"skinChange\" }, usesOnChanges: true, ngImport: i0, template: `\n    <div class=\"emoji-mart-preview\" *ngIf=\"emoji && emojiData\">\n      <div class=\"emoji-mart-preview-emoji\">\n        <ngx-emoji\n          [emoji]=\"emoji\"\n          [size]=\"38\"\n          [isNative]=\"emojiIsNative\"\n          [skin]=\"emojiSkin\"\n          [size]=\"emojiSize\"\n          [set]=\"emojiSet\"\n          [sheetSize]=\"emojiSheetSize\"\n          [backgroundImageFn]=\"emojiBackgroundImageFn\"\n          [imageUrlFn]=\"emojiImageUrlFn\"\n        ></ngx-emoji>\n      </div>\n\n      <div class=\"emoji-mart-preview-data\">\n        <div class=\"emoji-mart-preview-name\">{{ emojiData.name }}</div>\n        <div class=\"emoji-mart-preview-shortname\">\n          <span\n            class=\"emoji-mart-preview-shortname\"\n            *ngFor=\"let short_name of emojiData.shortNames\"\n          >\n            :{{ short_name }}:\n          </span>\n        </div>\n        <div class=\"emoji-mart-preview-emoticons\">\n          <span class=\"emoji-mart-preview-emoticon\" *ngFor=\"let emoticon of listedEmoticons\">\n            {{ emoticon }}\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"emoji-mart-preview\" [hidden]=\"emoji\">\n      <div class=\"emoji-mart-preview-emoji\">\n        <ngx-emoji\n          *ngIf=\"idleEmoji && idleEmoji.length\"\n          [isNative]=\"emojiIsNative\"\n          [skin]=\"emojiSkin\"\n          [set]=\"emojiSet\"\n          [emoji]=\"idleEmoji\"\n          [backgroundImageFn]=\"emojiBackgroundImageFn\"\n          [size]=\"38\"\n          [imageUrlFn]=\"emojiImageUrlFn\"\n        ></ngx-emoji>\n      </div>\n\n      <div class=\"emoji-mart-preview-data\">\n        <span class=\"emoji-mart-title-label\">{{ title }}</span>\n      </div>\n\n      <div class=\"emoji-mart-preview-skins\">\n        <emoji-skins\n          [skin]=\"emojiSkin\"\n          (changeSkin)=\"skinChange.emit($event)\"\n          [i18n]=\"i18n\"\n        ></emoji-skins>\n      </div>\n    </div>\n  `, isInline: true, components: [{ type: i1.EmojiComponent, selector: \"ngx-emoji\", inputs: [\"skin\", \"set\", \"sheetSize\", \"isNative\", \"forceSize\", \"tooltip\", \"size\", \"emoji\", \"fallback\", \"hideObsolete\", \"sheetRows\", \"sheetColumns\", \"useButton\", \"backgroundImageFn\", \"imageUrlFn\"], outputs: [\"emojiOver\", \"emojiLeave\", \"emojiClick\"] }, { type: SkinComponent, selector: \"emoji-skins\", inputs: [\"skin\", \"i18n\"], outputs: [\"changeSkin\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: PreviewComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'emoji-preview',\n                    template: `\n    <div class=\"emoji-mart-preview\" *ngIf=\"emoji && emojiData\">\n      <div class=\"emoji-mart-preview-emoji\">\n        <ngx-emoji\n          [emoji]=\"emoji\"\n          [size]=\"38\"\n          [isNative]=\"emojiIsNative\"\n          [skin]=\"emojiSkin\"\n          [size]=\"emojiSize\"\n          [set]=\"emojiSet\"\n          [sheetSize]=\"emojiSheetSize\"\n          [backgroundImageFn]=\"emojiBackgroundImageFn\"\n          [imageUrlFn]=\"emojiImageUrlFn\"\n        ></ngx-emoji>\n      </div>\n\n      <div class=\"emoji-mart-preview-data\">\n        <div class=\"emoji-mart-preview-name\">{{ emojiData.name }}</div>\n        <div class=\"emoji-mart-preview-shortname\">\n          <span\n            class=\"emoji-mart-preview-shortname\"\n            *ngFor=\"let short_name of emojiData.shortNames\"\n          >\n            :{{ short_name }}:\n          </span>\n        </div>\n        <div class=\"emoji-mart-preview-emoticons\">\n          <span class=\"emoji-mart-preview-emoticon\" *ngFor=\"let emoticon of listedEmoticons\">\n            {{ emoticon }}\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"emoji-mart-preview\" [hidden]=\"emoji\">\n      <div class=\"emoji-mart-preview-emoji\">\n        <ngx-emoji\n          *ngIf=\"idleEmoji && idleEmoji.length\"\n          [isNative]=\"emojiIsNative\"\n          [skin]=\"emojiSkin\"\n          [set]=\"emojiSet\"\n          [emoji]=\"idleEmoji\"\n          [backgroundImageFn]=\"emojiBackgroundImageFn\"\n          [size]=\"38\"\n          [imageUrlFn]=\"emojiImageUrlFn\"\n        ></ngx-emoji>\n      </div>\n\n      <div class=\"emoji-mart-preview-data\">\n        <span class=\"emoji-mart-title-label\">{{ title }}</span>\n      </div>\n\n      <div class=\"emoji-mart-preview-skins\">\n        <emoji-skins\n          [skin]=\"emojiSkin\"\n          (changeSkin)=\"skinChange.emit($event)\"\n          [i18n]=\"i18n\"\n        ></emoji-skins>\n      </div>\n    </div>\n  `,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    preserveWhitespaces: false,\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i1.EmojiService }]; }, propDecorators: { title: [{\n                type: Input\n            }], emoji: [{\n                type: Input\n            }], idleEmoji: [{\n                type: Input\n            }], i18n: [{\n                type: Input\n            }], emojiIsNative: [{\n                type: Input\n            }], emojiSkin: [{\n                type: Input\n            }], emojiSize: [{\n                type: Input\n            }], emojiSet: [{\n                type: Input\n            }], emojiSheetSize: [{\n                type: Input\n            }], emojiBackgroundImageFn: [{\n                type: Input\n            }], emojiImageUrlFn: [{\n                type: Input\n            }], skinChange: [{\n                type: Output\n            }] } });\n\nlet id = 0;\nclass SearchComponent {\n    constructor(emojiSearch) {\n        this.emojiSearch = emojiSearch;\n        this.maxResults = 75;\n        this.autoFocus = false;\n        this.include = [];\n        this.exclude = [];\n        this.custom = [];\n        this.searchResults = new EventEmitter();\n        this.enterKey = new EventEmitter();\n        this.isSearching = false;\n        this.query = '';\n        this.inputId = `emoji-mart-search-${++id}`;\n    }\n    ngOnInit() {\n        this.icon = this.icons.search;\n    }\n    ngAfterViewInit() {\n        if (this.autoFocus) {\n            this.inputRef.nativeElement.focus();\n        }\n    }\n    clear() {\n        this.query = '';\n        this.handleSearch('');\n        this.inputRef.nativeElement.focus();\n    }\n    handleEnterKey($event) {\n        if (!this.query) {\n            return;\n        }\n        this.enterKey.emit($event);\n        $event.preventDefault();\n    }\n    handleSearch(value) {\n        if (value === '') {\n            this.icon = this.icons.search;\n            this.isSearching = false;\n        }\n        else {\n            this.icon = this.icons.delete;\n            this.isSearching = true;\n        }\n        const emojis = this.emojiSearch.search(this.query, this.emojisToShowFilter, this.maxResults, this.include, this.exclude, this.custom);\n        this.searchResults.emit(emojis);\n    }\n    handleChange() {\n        this.handleSearch(this.query);\n    }\n}\nSearchComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: SearchComponent, deps: [{ token: EmojiSearch }], target: i0.ɵɵFactoryTarget.Component });\nSearchComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.2\", type: SearchComponent, selector: \"emoji-search\", inputs: { maxResults: \"maxResults\", autoFocus: \"autoFocus\", i18n: \"i18n\", include: \"include\", exclude: \"exclude\", custom: \"custom\", icons: \"icons\", emojisToShowFilter: \"emojisToShowFilter\" }, outputs: { searchResults: \"searchResults\", enterKey: \"enterKey\" }, viewQueries: [{ propertyName: \"inputRef\", first: true, predicate: [\"inputRef\"], descendants: true, static: true }], ngImport: i0, template: `\n    <div class=\"emoji-mart-search\">\n      <input\n        [id]=\"inputId\"\n        #inputRef\n        type=\"search\"\n        (keyup.enter)=\"handleEnterKey($event)\"\n        [placeholder]=\"i18n.search\"\n        [autofocus]=\"autoFocus\"\n        [(ngModel)]=\"query\"\n        (ngModelChange)=\"handleChange()\"\n      />\n      <!--\n      Use a <label> in addition to the placeholder for accessibility, but place it off-screen\n      http://www.maxability.co.in/2016/01/placeholder-attribute-and-why-it-is-not-accessible/\n      -->\n      <label class=\"emoji-mart-sr-only\" [htmlFor]=\"inputId\">\n        {{ i18n.search }}\n      </label>\n      <button\n        type=\"button\"\n        class=\"emoji-mart-search-icon\"\n        (click)=\"clear()\"\n        (keyup.enter)=\"clear()\"\n        [disabled]=\"!isSearching\"\n        [attr.aria-label]=\"i18n.clear\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 20 20\"\n          width=\"13\"\n          height=\"13\"\n          opacity=\"0.5\"\n        >\n          <path [attr.d]=\"icon\" />\n        </svg>\n      </button>\n    </div>\n  `, isInline: true, directives: [{ type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: SearchComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'emoji-search',\n                    template: `\n    <div class=\"emoji-mart-search\">\n      <input\n        [id]=\"inputId\"\n        #inputRef\n        type=\"search\"\n        (keyup.enter)=\"handleEnterKey($event)\"\n        [placeholder]=\"i18n.search\"\n        [autofocus]=\"autoFocus\"\n        [(ngModel)]=\"query\"\n        (ngModelChange)=\"handleChange()\"\n      />\n      <!--\n      Use a <label> in addition to the placeholder for accessibility, but place it off-screen\n      http://www.maxability.co.in/2016/01/placeholder-attribute-and-why-it-is-not-accessible/\n      -->\n      <label class=\"emoji-mart-sr-only\" [htmlFor]=\"inputId\">\n        {{ i18n.search }}\n      </label>\n      <button\n        type=\"button\"\n        class=\"emoji-mart-search-icon\"\n        (click)=\"clear()\"\n        (keyup.enter)=\"clear()\"\n        [disabled]=\"!isSearching\"\n        [attr.aria-label]=\"i18n.clear\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 20 20\"\n          width=\"13\"\n          height=\"13\"\n          opacity=\"0.5\"\n        >\n          <path [attr.d]=\"icon\" />\n        </svg>\n      </button>\n    </div>\n  `,\n                    preserveWhitespaces: false,\n                }]\n        }], ctorParameters: function () { return [{ type: EmojiSearch }]; }, propDecorators: { maxResults: [{\n                type: Input\n            }], autoFocus: [{\n                type: Input\n            }], i18n: [{\n                type: Input\n            }], include: [{\n                type: Input\n            }], exclude: [{\n                type: Input\n            }], custom: [{\n                type: Input\n            }], icons: [{\n                type: Input\n            }], emojisToShowFilter: [{\n                type: Input\n            }], searchResults: [{\n                type: Output\n            }], enterKey: [{\n                type: Output\n            }], inputRef: [{\n                type: ViewChild,\n                args: ['inputRef', { static: true }]\n            }] } });\n\n/* eslint-disable  max-len */\nconst categories = {\n    activity: `M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24m10 11h-5c.3-2.5 1.3-4.8 2-6.1a10 10 0 0 1 3 6.1m-9 0V2a10 10 0 0 1 4.4 1.6A18 18 0 0 0 15 11h-2zm-2 0H9a18 18 0 0 0-2.4-7.4A10 10 0 0 1 11 2.1V11zm0 2v9a10 10 0 0 1-4.4-1.6A18 18 0 0 0 9 13h2zm4 0a18 18 0 0 0 2.4 7.4 10 10 0 0 1-4.4 1.5V13h2zM5 4.9c.7 1.3 1.7 3.6 2 6.1H2a10 10 0 0 1 3-6.1M2 13h5c-.3 2.5-1.3 4.8-2 6.1A10 10 0 0 1 2 13m17 6.1c-.7-1.3-1.7-3.6-2-6.1h5a10 10 0 0 1-3 6.1`,\n    custom: `M10 1h3v21h-3zm10.186 4l1.5 2.598L3.5 18.098 2 15.5zM2 7.598L3.5 5l18.186 10.5-1.5 2.598z`,\n    flags: `M0 0l6 24h2L2 0zm21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.6 3h7.8l2 8H8.6l-2-8zm8.8 10l-2.9 1.9-.4-1.9h3.3zm3.6 0l-1.5-6h2l2 8H16l3-2z`,\n    foods: `M17 5c-1.8 0-2.9.4-3.7 1 .5-1.3 1.8-3 4.7-3a1 1 0 0 0 0-2c-3 0-4.6 1.3-5.5 2.5l-.2.2c-.6-1.9-1.5-3.7-3-3.7C8.5 0 7.7.3 7 1c-2 1.5-1.7 2.9-.5 4C3.6 5.2 0 7.4 0 13c0 4.6 5 11 9 11 2 0 2.4-.5 3-1 .6.5 1 1 3 1 4 0 9-6.4 9-11 0-6-4-8-7-8M8.2 2.5c.7-.5 1-.5 1-.5.4.2 1 1.4 1.4 3-1.6-.6-2.8-1.3-3-1.8l.6-.7M15 22c-1 0-1.2-.1-1.6-.4l-.1-.2a2 2 0 0 0-2.6 0l-.1.2c-.4.3-.5.4-1.6.4-2.8 0-7-5.4-7-9 0-6 4.5-6 5-6 2 0 2.5.4 3.4 1.2l.3.3a2 2 0 0 0 2.6 0l.3-.3c1-.8 1.5-1.2 3.4-1.2.5 0 5 .1 5 6 0 3.6-4.2 9-7 9`,\n    nature: `M15.5 8a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m-7 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m10.43-8h-.02c-.97 0-2.14.79-3.02 1.5A13.88 13.88 0 0 0 12 .99c-1.28 0-2.62.13-3.87.51C7.24.8 6.07 0 5.09 0h-.02C3.35 0 .07 2.67 0 7.03c-.04 2.47.28 4.23 1.04 5 .26.27.88.69 1.3.9.19 3.17.92 5.23 2.53 6.37.9.64 2.19.95 3.2 1.1-.03.2-.07.4-.07.6 0 1.77 2.35 3 4 3s4-1.23 4-3c0-.2-.04-.4-.07-.59 2.57-.38 5.43-1.87 5.92-7.58.4-.22.89-.57 1.1-.8.77-.76 1.09-2.52 1.05-5C23.93 2.67 20.65 0 18.93 0M3.23 9.13c-.24.29-.84 1.16-.9 1.24A9.67 9.67 0 0 1 2 7.08c.05-3.28 2.48-4.97 3.1-5.03.25.02.72.27 1.26.65A7.95 7.95 0 0 0 4 7.82c-.14.55-.4.86-.79 1.31M12 22c-.9 0-1.95-.7-2-1 0-.65.47-1.24 1-1.6v.6a1 1 0 1 0 2 0v-.6c.52.36 1 .95 1 1.6-.05.3-1.1 1-2 1m3-3.48v.02a4.75 4.75 0 0 0-1.26-1.02c1.09-.52 2.24-1.33 2.24-2.22 0-1.84-1.78-2.2-3.98-2.2s-3.98.36-3.98 2.2c0 .89 1.15 1.7 2.24 2.22A4.8 4.8 0 0 0 9 18.54v-.03a6.1 6.1 0 0 1-2.97-.84c-1.3-.92-1.84-3.04-1.86-6.48l.03-.04c.5-.82 1.49-1.45 1.8-3.1C6 6 7.36 4.42 8.36 3.53c1.01-.35 2.2-.53 3.59-.53 1.45 0 2.68.2 3.73.57 1 .9 2.32 2.46 2.32 4.48.31 1.65 1.3 2.27 1.8 3.1l.1.18c-.06 5.97-1.95 7.01-4.9 7.19m6.63-8.2l-.11-.2a7.59 7.59 0 0 0-.74-.98 3.02 3.02 0 0 1-.79-1.32 7.93 7.93 0 0 0-2.35-5.12c.53-.38 1-.63 1.26-.65.64.07 3.05 1.77 3.1 5.03.02 1.81-.35 3.22-.37 3.24`,\n    objects: `M12 0a9 9 0 0 0-5 16.5V21s2 3 5 3 5-3 5-3v-4.5A9 9 0 0 0 12 0zm0 2a7 7 0 1 1 0 14 7 7 0 0 1 0-14zM9 17.5a9 9 0 0 0 6 0v.8a7 7 0 0 1-3 .7 7 7 0 0 1-3-.7v-.8zm.2 3a8.9 8.9 0 0 0 2.8.5c1 0 1.9-.2 2.8-.5-.6.7-1.6 1.5-2.8 1.5-1.1 0-2.1-.8-2.8-1.5zm5.5-8.1c-.8 0-1.1-.8-1.5-1.8-.5-1-.7-1.5-1.2-1.5s-.8.5-1.3 1.5c-.4 1-.8 1.8-1.6 1.8h-.3c-.5-.2-.8-.7-1.3-1.8l-.2-1A3 3 0 0 0 7 9a1 1 0 0 1 0-2c1.7 0 2 1.4 2.2 2.1.5-1 1.3-2 2.8-2 1.5 0 2.3 1.1 2.7 2.1.2-.8.6-2.2 2.3-2.2a1 1 0 1 1 0 2c-.2 0-.3.5-.3.7a6.5 6.5 0 0 1-.3 1c-.5 1-.8 1.7-1.7 1.7`,\n    people: `M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24m0 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20M8 7a2 2 0 1 0 0 4 2 2 0 0 0 0-4m8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-.8 8c-.7 1.2-1.8 2-3.3 2-1.5 0-2.7-.8-3.4-2H15m3-2H6a6 6 0 1 0 12 0`,\n    places: `M6.5 12a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5m0 3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5.5.2.5.5-.2.5-.5.5m11-3a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5m0 3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5.5.2.5.5-.2.5-.5.5m5-5.5l-1-.4-.1-.1h.6c.6 0 1-.4 1-1 0-1-.9-2-2-2h-.6l-.8-1.7A3 3 0 0 0 16.8 2H7.2a3 3 0 0 0-2.8 2.3L3.6 6H3a2 2 0 0 0-2 2c0 .6.4 1 1 1h.6v.1l-1 .4a2 2 0 0 0-1.4 2l.7 7.6a1 1 0 0 0 1 .9H3v1c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-1h6v1c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-1h1.1a1 1 0 0 0 1-.9l.7-7.5a2 2 0 0 0-1.3-2.1M6.3 4.9c.1-.5.5-.9 1-.9h9.5c.4 0 .8.4 1 .9L19.2 9H4.7l1.6-4.1zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.2-3H2.8l-.7-6.6.9-.4h18l.9.4-.7 6.6z`,\n    recent: `M13 4h-2v7H9v2h2v2h2v-2h4v-2h-4zm-1-4a12 12 0 1 0 0 24 12 12 0 0 0 0-24m0 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20`,\n    symbols: `M0 0h11v2H0zm4 11h3V6h4V4H0v2h4zm11.5 6a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5m0-2.99a.5.5 0 0 1 0 .99c-.28 0-.5-.22-.5-.5s.22-.49.5-.49m6 5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5m0 2.99a.5.5 0 0 1-.5-.5.5.5 0 0 1 1 .01.5.5 0 0 1-.5.49m.5-9l-9 9 1.51 1.5 9-9zm-5-2c2.2 0 4-1.12 4-2.5V2s.98-.16 1.5.95C23 4.05 23 6 23 6s1-1.12 1-3.13C24-.02 21 0 21 0h-2v6.35A5.85 5.85 0 0 0 17 6c-2.2 0-4 1.12-4 2.5s1.8 2.5 4 2.5m-6.7 9.48L8.82 18.9a47.54 47.54 0 0 1-1.44 1.13c-.3-.3-.99-1.02-2.04-2.19.9-.83 1.47-1.46 1.72-1.89s.38-.87.38-1.33c0-.6-.27-1.18-.82-1.76-.54-.58-1.33-.87-2.35-.87-1 0-1.79.29-2.34.87-.56.6-.83 1.18-.83 1.79 0 .81.42 1.75 1.25 2.8a6.57 6.57 0 0 0-1.8 1.79 3.46 3.46 0 0 0-.51 1.83c0 .86.3 1.56.92 2.1a3.5 3.5 0 0 0 2.42.83c1.17 0 2.44-.38 3.81-1.14L8.23 24h2.82l-2.09-2.38 1.34-1.14zM3.56 14.1a1.02 1.02 0 0 1 .73-.28c.31 0 .56.08.75.25a.85.85 0 0 1 .28.66c0 .52-.42 1.11-1.26 1.78-.53-.65-.8-1.23-.8-1.74a.9.9 0 0 1 .3-.67m.18 7.9c-.43 0-.78-.12-1.06-.35-.28-.23-.41-.49-.41-.76 0-.6.5-1.3 1.52-2.09a31.23 31.23 0 0 0 2.25 2.44c-.92.5-1.69.76-2.3.76`,\n};\nconst search = {\n    search: `M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z`,\n    delete: `M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z`,\n};\n\nconst I18N = {\n    search: 'Search',\n    emojilist: 'List of emoji',\n    notfound: 'No Emoji Found',\n    clear: 'Clear',\n    categories: {\n        search: 'Search Results',\n        recent: 'Frequently Used',\n        people: 'Smileys & People',\n        nature: 'Animals & Nature',\n        foods: 'Food & Drink',\n        activity: 'Activity',\n        places: 'Travel & Places',\n        objects: 'Objects',\n        symbols: 'Symbols',\n        flags: 'Flags',\n        custom: 'Custom',\n    },\n    skintones: {\n        1: 'Default Skin Tone',\n        2: 'Light Skin Tone',\n        3: 'Medium-Light Skin Tone',\n        4: 'Medium Skin Tone',\n        5: 'Medium-Dark Skin Tone',\n        6: 'Dark Skin Tone',\n    },\n};\nclass PickerComponent {\n    constructor(ngZone, renderer, ref, frequently, platformId) {\n        this.ngZone = ngZone;\n        this.renderer = renderer;\n        this.ref = ref;\n        this.frequently = frequently;\n        this.platformId = platformId;\n        this.perLine = 9;\n        this.totalFrequentLines = 4;\n        this.i18n = {};\n        this.style = {};\n        this.title = 'Emoji Mart™';\n        this.emoji = 'department_store';\n        this.darkMode = !!(typeof matchMedia === 'function' && matchMedia('(prefers-color-scheme: dark)').matches);\n        this.color = '#ae65c5';\n        this.hideObsolete = true;\n        /** all categories shown */\n        this.categories = [];\n        /** used to temporarily draw categories */\n        this.activeCategories = [];\n        this.set = 'apple';\n        this.skin = 1;\n        /** Renders the native unicode emoji */\n        this.isNative = false;\n        this.emojiSize = 24;\n        this.sheetSize = 64;\n        this.showPreview = true;\n        this.emojiTooltip = false;\n        this.autoFocus = false;\n        this.custom = [];\n        this.hideRecent = true;\n        this.notFoundEmoji = 'sleuth_or_spy';\n        this.categoriesIcons = categories;\n        this.searchIcons = search;\n        this.useButton = false;\n        this.enableFrequentEmojiSort = false;\n        this.enableSearch = true;\n        this.showSingleCategory = false;\n        this.virtualize = false;\n        this.virtualizeOffset = 0;\n        this.emojiClick = new EventEmitter();\n        this.emojiSelect = new EventEmitter();\n        this.skinChange = new EventEmitter();\n        this.scrollHeight = 0;\n        this.clientHeight = 0;\n        this.clientWidth = 0;\n        this.firstRender = true;\n        this.animationFrameRequestId = null;\n        this.NAMESPACE = 'emoji-mart';\n        this.measureScrollbar = 0;\n        this.RECENT_CATEGORY = {\n            id: 'recent',\n            name: 'Recent',\n            emojis: null,\n        };\n        this.SEARCH_CATEGORY = {\n            id: 'search',\n            name: 'Search',\n            emojis: null,\n            anchor: false,\n        };\n        this.CUSTOM_CATEGORY = {\n            id: 'custom',\n            name: 'Custom',\n            emojis: [],\n        };\n        this.backgroundImageFn = (set, sheetSize) => `https://unpkg.com/emoji-datasource-${this.set}@6.0.1/img/${this.set}/sheets-256/${this.sheetSize}.png`;\n    }\n    ngOnInit() {\n        // measure scroll\n        this.measureScrollbar = measureScrollbar();\n        this.i18n = Object.assign(Object.assign({}, I18N), this.i18n);\n        this.i18n.categories = Object.assign(Object.assign({}, I18N.categories), this.i18n.categories);\n        this.skin =\n            JSON.parse((isPlatformBrowser(this.platformId) && localStorage.getItem(`${this.NAMESPACE}.skin`)) ||\n                'null') || this.skin;\n        const allCategories = [...categories$1];\n        if (this.custom.length > 0) {\n            this.CUSTOM_CATEGORY.emojis = this.custom.map(emoji => {\n                return Object.assign(Object.assign({}, emoji), { \n                    // `<Category />` expects emoji to have an `id`.\n                    id: emoji.shortNames[0], custom: true });\n            });\n            allCategories.push(this.CUSTOM_CATEGORY);\n        }\n        if (this.include !== undefined) {\n            allCategories.sort((a, b) => {\n                if (this.include.indexOf(a.id) > this.include.indexOf(b.id)) {\n                    return 1;\n                }\n                return -1;\n            });\n        }\n        for (const category of allCategories) {\n            const isIncluded = this.include && this.include.length ? this.include.indexOf(category.id) > -1 : true;\n            const isExcluded = this.exclude && this.exclude.length ? this.exclude.indexOf(category.id) > -1 : false;\n            if (!isIncluded || isExcluded) {\n                continue;\n            }\n            if (this.emojisToShowFilter) {\n                const newEmojis = [];\n                const { emojis } = category;\n                // eslint-disable-next-line @typescript-eslint/prefer-for-of\n                for (let emojiIndex = 0; emojiIndex < emojis.length; emojiIndex++) {\n                    const emoji = emojis[emojiIndex];\n                    if (this.emojisToShowFilter(emoji)) {\n                        newEmojis.push(emoji);\n                    }\n                }\n                if (newEmojis.length) {\n                    const newCategory = {\n                        emojis: newEmojis,\n                        name: category.name,\n                        id: category.id,\n                    };\n                    this.categories.push(newCategory);\n                }\n            }\n            else {\n                this.categories.push(category);\n            }\n            this.categoriesIcons = Object.assign(Object.assign({}, categories), this.categoriesIcons);\n            this.searchIcons = Object.assign(Object.assign({}, search), this.searchIcons);\n        }\n        const includeRecent = this.include && this.include.length\n            ? this.include.indexOf(this.RECENT_CATEGORY.id) > -1\n            : true;\n        const excludeRecent = this.exclude && this.exclude.length\n            ? this.exclude.indexOf(this.RECENT_CATEGORY.id) > -1\n            : false;\n        if (includeRecent && !excludeRecent) {\n            this.hideRecent = false;\n            this.categories.unshift(this.RECENT_CATEGORY);\n        }\n        if (this.categories[0]) {\n            this.categories[0].first = true;\n        }\n        this.categories.unshift(this.SEARCH_CATEGORY);\n        this.selected = this.categories.filter(category => category.first)[0].name;\n        // Need to be careful if small number of categories\n        const categoriesToLoadFirst = Math.min(this.categories.length, 3);\n        this.setActiveCategories((this.activeCategories = this.categories.slice(0, categoriesToLoadFirst)));\n        // Trim last active category\n        const lastActiveCategoryEmojis = this.categories[categoriesToLoadFirst - 1].emojis.slice();\n        this.categories[categoriesToLoadFirst - 1].emojis = lastActiveCategoryEmojis.slice(0, 60);\n        setTimeout(() => {\n            // Restore last category\n            this.categories[categoriesToLoadFirst - 1].emojis = lastActiveCategoryEmojis;\n            this.setActiveCategories(this.categories);\n            // The `setTimeout` will trigger the change detection, but since we're inside\n            // the OnPush component we can run change detection locally starting from this\n            // component and going down to the children.\n            this.ref.detectChanges();\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            isPlatformBrowser(this.platformId) &&\n                this.ngZone.runOutsideAngular(() => {\n                    // The `updateCategoriesSize` doesn't change properties that are used\n                    // in templates, thus this is run in the context of the root zone to avoid\n                    // running change detection.\n                    requestAnimationFrame(() => {\n                        this.updateCategoriesSize();\n                    });\n                });\n        });\n        this.ngZone.runOutsideAngular(() => {\n            // DOM events that are listened by Angular inside the template trigger change detection\n            // and also wrapped into additional functions that call `markForCheck()`. We listen `scroll`\n            // in the context of the root zone since it will not trigger change detection each time\n            // the `scroll` event is dispatched.\n            this.scrollListener = this.renderer.listen(this.scrollRef.nativeElement, 'scroll', () => {\n                this.handleScroll();\n            });\n        });\n    }\n    ngOnDestroy() {\n        var _a;\n        (_a = this.scrollListener) === null || _a === void 0 ? void 0 : _a.call(this);\n        // This is called here because the component might be destroyed\n        // but there will still be a `requestAnimationFrame` callback in the queue\n        // that calls `detectChanges()` on the `ViewRef`. This will lead to a runtime\n        // exception if the `detectChanges()` is called after the `ViewRef` is destroyed.\n        this.cancelAnimationFrame();\n    }\n    setActiveCategories(categoriesToMakeActive) {\n        if (this.showSingleCategory) {\n            this.activeCategories = categoriesToMakeActive.filter(x => x.name === this.selected || x === this.SEARCH_CATEGORY);\n        }\n        else {\n            this.activeCategories = categoriesToMakeActive;\n        }\n    }\n    updateCategoriesSize() {\n        this.categoryRefs.forEach(component => component.memoizeSize());\n        if (this.scrollRef) {\n            const target = this.scrollRef.nativeElement;\n            this.scrollHeight = target.scrollHeight;\n            this.clientHeight = target.clientHeight;\n            this.clientWidth = target.clientWidth;\n        }\n    }\n    handleAnchorClick($event) {\n        var _a;\n        this.updateCategoriesSize();\n        this.selected = $event.category.name;\n        this.setActiveCategories(this.categories);\n        if (this.SEARCH_CATEGORY.emojis) {\n            this.handleSearch(null);\n            (_a = this.searchRef) === null || _a === void 0 ? void 0 : _a.clear();\n            this.handleAnchorClick($event);\n            return;\n        }\n        const component = this.categoryRefs.find(n => n.id === $event.category.id);\n        if (component) {\n            let { top } = component;\n            if ($event.category.first) {\n                top = 0;\n            }\n            else {\n                top += 1;\n            }\n            this.scrollRef.nativeElement.scrollTop = top;\n        }\n        this.nextScroll = $event.category.name;\n        // handle component scrolling to load emojis\n        for (const category of this.categories) {\n            const componentToScroll = this.categoryRefs.find(({ id }) => id === category.id);\n            componentToScroll === null || componentToScroll === void 0 ? void 0 : componentToScroll.handleScroll(this.scrollRef.nativeElement.scrollTop);\n        }\n    }\n    categoryTrack(index, item) {\n        return item.id;\n    }\n    handleScroll(noSelectionChange = false) {\n        if (this.nextScroll) {\n            this.selected = this.nextScroll;\n            this.nextScroll = undefined;\n            this.ref.detectChanges();\n            return;\n        }\n        if (!this.scrollRef) {\n            return;\n        }\n        if (this.showSingleCategory) {\n            return;\n        }\n        let activeCategory;\n        if (this.SEARCH_CATEGORY.emojis) {\n            activeCategory = this.SEARCH_CATEGORY;\n        }\n        else {\n            const target = this.scrollRef.nativeElement;\n            // check scroll is not at bottom\n            if (target.scrollTop === 0) {\n                // hit the TOP\n                activeCategory = this.categories.find(n => n.first === true);\n            }\n            else if (target.scrollHeight - target.scrollTop === this.clientHeight) {\n                // scrolled to bottom activate last category\n                activeCategory = this.categories[this.categories.length - 1];\n            }\n            else {\n                // scrolling\n                for (const category of this.categories) {\n                    const component = this.categoryRefs.find(({ id }) => id === category.id);\n                    const active = component === null || component === void 0 ? void 0 : component.handleScroll(target.scrollTop);\n                    if (active) {\n                        activeCategory = category;\n                    }\n                }\n            }\n            this.scrollTop = target.scrollTop;\n        }\n        // This will allow us to run the change detection only when the category changes.\n        if (!noSelectionChange && activeCategory && activeCategory.name !== this.selected) {\n            this.selected = activeCategory.name;\n            this.ref.detectChanges();\n        }\n        else if (noSelectionChange) {\n            this.ref.detectChanges();\n        }\n    }\n    handleSearch($emojis) {\n        this.SEARCH_CATEGORY.emojis = $emojis;\n        for (const component of this.categoryRefs.toArray()) {\n            if (component.name === 'Search') {\n                component.emojis = $emojis;\n                component.updateDisplay($emojis ? 'block' : 'none');\n            }\n            else {\n                component.updateDisplay($emojis ? 'none' : 'block');\n            }\n        }\n        this.scrollRef.nativeElement.scrollTop = 0;\n        this.handleScroll();\n    }\n    handleEnterKey($event, emoji) {\n        if (!emoji) {\n            if (this.SEARCH_CATEGORY.emojis !== null && this.SEARCH_CATEGORY.emojis.length) {\n                emoji = this.SEARCH_CATEGORY.emojis[0];\n                if (emoji) {\n                    this.emojiSelect.emit({ $event, emoji });\n                }\n                else {\n                    return;\n                }\n            }\n        }\n        if (!this.hideRecent && !this.recent && emoji) {\n            this.frequently.add(emoji);\n        }\n        const component = this.categoryRefs.toArray()[1];\n        if (component && this.enableFrequentEmojiSort) {\n            component.updateRecentEmojis();\n            component.ref.markForCheck();\n        }\n    }\n    handleEmojiOver($event) {\n        var _a;\n        if (!this.showPreview || !this.previewRef) {\n            return;\n        }\n        const emojiData = this.CUSTOM_CATEGORY.emojis.find((customEmoji) => customEmoji.id === $event.emoji.id);\n        if (emojiData) {\n            $event.emoji = Object.assign({}, emojiData);\n        }\n        this.previewEmoji = $event.emoji;\n        this.cancelAnimationFrame();\n        (_a = this.ref) === null || _a === void 0 ? void 0 : _a.detectChanges();\n    }\n    handleEmojiLeave() {\n        if (!this.showPreview || !this.previewRef) {\n            return;\n        }\n        this.ngZone.runOutsideAngular(() => {\n            this.animationFrameRequestId = requestAnimationFrame(() => {\n                this.previewEmoji = null;\n                this.ref.detectChanges();\n            });\n        });\n    }\n    handleEmojiClick($event) {\n        this.emojiClick.emit($event);\n        this.emojiSelect.emit($event);\n        this.handleEnterKey($event.$event, $event.emoji);\n    }\n    handleSkinChange(skin) {\n        this.skin = skin;\n        localStorage.setItem(`${this.NAMESPACE}.skin`, String(skin));\n        this.skinChange.emit(skin);\n    }\n    getWidth() {\n        if (this.style && this.style.width) {\n            return this.style.width;\n        }\n        return this.perLine * (this.emojiSize + 12) + 12 + 2 + this.measureScrollbar + 'px';\n    }\n    cancelAnimationFrame() {\n        if (this.animationFrameRequestId !== null) {\n            cancelAnimationFrame(this.animationFrameRequestId);\n            this.animationFrameRequestId = null;\n        }\n    }\n}\nPickerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: PickerComponent, deps: [{ token: i0.NgZone }, { token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: EmojiFrequentlyService }, { token: PLATFORM_ID }], target: i0.ɵɵFactoryTarget.Component });\nPickerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.2\", type: PickerComponent, selector: \"emoji-mart\", inputs: { perLine: \"perLine\", totalFrequentLines: \"totalFrequentLines\", i18n: \"i18n\", style: \"style\", title: \"title\", emoji: \"emoji\", darkMode: \"darkMode\", color: \"color\", hideObsolete: \"hideObsolete\", categories: \"categories\", activeCategories: \"activeCategories\", set: \"set\", skin: \"skin\", isNative: \"isNative\", emojiSize: \"emojiSize\", sheetSize: \"sheetSize\", emojisToShowFilter: \"emojisToShowFilter\", showPreview: \"showPreview\", emojiTooltip: \"emojiTooltip\", autoFocus: \"autoFocus\", custom: \"custom\", hideRecent: \"hideRecent\", imageUrlFn: \"imageUrlFn\", include: \"include\", exclude: \"exclude\", notFoundEmoji: \"notFoundEmoji\", categoriesIcons: \"categoriesIcons\", searchIcons: \"searchIcons\", useButton: \"useButton\", enableFrequentEmojiSort: \"enableFrequentEmojiSort\", enableSearch: \"enableSearch\", showSingleCategory: \"showSingleCategory\", virtualize: \"virtualize\", virtualizeOffset: \"virtualizeOffset\", recent: \"recent\", backgroundImageFn: \"backgroundImageFn\" }, outputs: { emojiClick: \"emojiClick\", emojiSelect: \"emojiSelect\", skinChange: \"skinChange\" }, viewQueries: [{ propertyName: \"scrollRef\", first: true, predicate: [\"scrollRef\"], descendants: true, static: true }, { propertyName: \"previewRef\", first: true, predicate: PreviewComponent, descendants: true }, { propertyName: \"searchRef\", first: true, predicate: SearchComponent, descendants: true }, { propertyName: \"categoryRefs\", predicate: CategoryComponent, descendants: true }], ngImport: i0, template: \"<section\\n  class=\\\"emoji-mart {{ darkMode ? 'emoji-mart-dark' : '' }}\\\"\\n  [style.width]=\\\"getWidth()\\\"\\n  [ngStyle]=\\\"style\\\"\\n>\\n  <div class=\\\"emoji-mart-bar\\\">\\n    <emoji-mart-anchors\\n      [categories]=\\\"categories\\\"\\n      (anchorClick)=\\\"handleAnchorClick($event)\\\"\\n      [color]=\\\"color\\\"\\n      [selected]=\\\"selected\\\"\\n      [i18n]=\\\"i18n\\\"\\n      [icons]=\\\"categoriesIcons\\\"\\n    ></emoji-mart-anchors>\\n  </div>\\n  <emoji-search\\n    *ngIf=\\\"enableSearch\\\"\\n    [i18n]=\\\"i18n\\\"\\n    (searchResults)=\\\"handleSearch($event)\\\"\\n    (enterKey)=\\\"handleEnterKey($event)\\\"\\n    [include]=\\\"include\\\"\\n    [exclude]=\\\"exclude\\\"\\n    [custom]=\\\"custom\\\"\\n    [autoFocus]=\\\"autoFocus\\\"\\n    [icons]=\\\"searchIcons\\\"\\n    [emojisToShowFilter]=\\\"emojisToShowFilter\\\"\\n  ></emoji-search>\\n  <section #scrollRef class=\\\"emoji-mart-scroll\\\" [attr.aria-label]=\\\"i18n.emojilist\\\">\\n    <emoji-category\\n      *ngFor=\\\"let category of activeCategories; let idx = index; trackBy: categoryTrack\\\"\\n      [id]=\\\"category.id\\\"\\n      [name]=\\\"category.name\\\"\\n      [emojis]=\\\"category.emojis\\\"\\n      [perLine]=\\\"perLine\\\"\\n      [totalFrequentLines]=\\\"totalFrequentLines\\\"\\n      [hasStickyPosition]=\\\"isNative\\\"\\n      [i18n]=\\\"i18n\\\"\\n      [hideObsolete]=\\\"hideObsolete\\\"\\n      [notFoundEmoji]=\\\"notFoundEmoji\\\"\\n      [custom]=\\\"category.id === RECENT_CATEGORY.id ? CUSTOM_CATEGORY.emojis : undefined\\\"\\n      [recent]=\\\"category.id === RECENT_CATEGORY.id ? recent : undefined\\\"\\n      [virtualize]=\\\"virtualize\\\"\\n      [virtualizeOffset]=\\\"virtualizeOffset\\\"\\n      [emojiIsNative]=\\\"isNative\\\"\\n      [emojiSkin]=\\\"skin\\\"\\n      [emojiSize]=\\\"emojiSize\\\"\\n      [emojiSet]=\\\"set\\\"\\n      [emojiSheetSize]=\\\"sheetSize\\\"\\n      [emojiForceSize]=\\\"isNative\\\"\\n      [emojiTooltip]=\\\"emojiTooltip\\\"\\n      [emojiBackgroundImageFn]=\\\"backgroundImageFn\\\"\\n      [emojiImageUrlFn]=\\\"imageUrlFn\\\"\\n      [emojiUseButton]=\\\"useButton\\\"\\n      (emojiOver)=\\\"handleEmojiOver($event)\\\"\\n      (emojiLeave)=\\\"handleEmojiLeave()\\\"\\n      (emojiClick)=\\\"handleEmojiClick($event)\\\"\\n    ></emoji-category>\\n  </section>\\n  <div class=\\\"emoji-mart-bar\\\" *ngIf=\\\"showPreview\\\">\\n    <emoji-preview\\n      [title]=\\\"title\\\"\\n      [emoji]=\\\"previewEmoji\\\"\\n      [idleEmoji]=\\\"emoji\\\"\\n      [emojiIsNative]=\\\"isNative\\\"\\n      [emojiSize]=\\\"38\\\"\\n      [emojiSkin]=\\\"skin\\\"\\n      [emojiSet]=\\\"set\\\"\\n      [i18n]=\\\"i18n\\\"\\n      [emojiSheetSize]=\\\"sheetSize\\\"\\n      [emojiBackgroundImageFn]=\\\"backgroundImageFn\\\"\\n      [emojiImageUrlFn]=\\\"imageUrlFn\\\"\\n      (skinChange)=\\\"handleSkinChange($event)\\\"\\n    ></emoji-preview>\\n  </div>\\n</section>\\n\", components: [{ type: AnchorsComponent, selector: \"emoji-mart-anchors\", inputs: [\"categories\", \"color\", \"selected\", \"i18n\", \"icons\"], outputs: [\"anchorClick\"] }, { type: SearchComponent, selector: \"emoji-search\", inputs: [\"maxResults\", \"autoFocus\", \"i18n\", \"include\", \"exclude\", \"custom\", \"icons\", \"emojisToShowFilter\"], outputs: [\"searchResults\", \"enterKey\"] }, { type: CategoryComponent, selector: \"emoji-category\", inputs: [\"emojis\", \"hasStickyPosition\", \"name\", \"perLine\", \"totalFrequentLines\", \"recent\", \"custom\", \"i18n\", \"id\", \"hideObsolete\", \"notFoundEmoji\", \"virtualize\", \"virtualizeOffset\", \"emojiIsNative\", \"emojiSkin\", \"emojiSize\", \"emojiSet\", \"emojiSheetSize\", \"emojiForceSize\", \"emojiTooltip\", \"emojiBackgroundImageFn\", \"emojiImageUrlFn\", \"emojiUseButton\"], outputs: [\"emojiOver\", \"emojiLeave\", \"emojiClick\"] }, { type: PreviewComponent, selector: \"emoji-preview\", inputs: [\"title\", \"emoji\", \"idleEmoji\", \"i18n\", \"emojiIsNative\", \"emojiSkin\", \"emojiSize\", \"emojiSet\", \"emojiSheetSize\", \"emojiBackgroundImageFn\", \"emojiImageUrlFn\"], outputs: [\"skinChange\"] }], directives: [{ type: i3.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: PickerComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'emoji-mart', changeDetection: ChangeDetectionStrategy.OnPush, preserveWhitespaces: false, template: \"<section\\n  class=\\\"emoji-mart {{ darkMode ? 'emoji-mart-dark' : '' }}\\\"\\n  [style.width]=\\\"getWidth()\\\"\\n  [ngStyle]=\\\"style\\\"\\n>\\n  <div class=\\\"emoji-mart-bar\\\">\\n    <emoji-mart-anchors\\n      [categories]=\\\"categories\\\"\\n      (anchorClick)=\\\"handleAnchorClick($event)\\\"\\n      [color]=\\\"color\\\"\\n      [selected]=\\\"selected\\\"\\n      [i18n]=\\\"i18n\\\"\\n      [icons]=\\\"categoriesIcons\\\"\\n    ></emoji-mart-anchors>\\n  </div>\\n  <emoji-search\\n    *ngIf=\\\"enableSearch\\\"\\n    [i18n]=\\\"i18n\\\"\\n    (searchResults)=\\\"handleSearch($event)\\\"\\n    (enterKey)=\\\"handleEnterKey($event)\\\"\\n    [include]=\\\"include\\\"\\n    [exclude]=\\\"exclude\\\"\\n    [custom]=\\\"custom\\\"\\n    [autoFocus]=\\\"autoFocus\\\"\\n    [icons]=\\\"searchIcons\\\"\\n    [emojisToShowFilter]=\\\"emojisToShowFilter\\\"\\n  ></emoji-search>\\n  <section #scrollRef class=\\\"emoji-mart-scroll\\\" [attr.aria-label]=\\\"i18n.emojilist\\\">\\n    <emoji-category\\n      *ngFor=\\\"let category of activeCategories; let idx = index; trackBy: categoryTrack\\\"\\n      [id]=\\\"category.id\\\"\\n      [name]=\\\"category.name\\\"\\n      [emojis]=\\\"category.emojis\\\"\\n      [perLine]=\\\"perLine\\\"\\n      [totalFrequentLines]=\\\"totalFrequentLines\\\"\\n      [hasStickyPosition]=\\\"isNative\\\"\\n      [i18n]=\\\"i18n\\\"\\n      [hideObsolete]=\\\"hideObsolete\\\"\\n      [notFoundEmoji]=\\\"notFoundEmoji\\\"\\n      [custom]=\\\"category.id === RECENT_CATEGORY.id ? CUSTOM_CATEGORY.emojis : undefined\\\"\\n      [recent]=\\\"category.id === RECENT_CATEGORY.id ? recent : undefined\\\"\\n      [virtualize]=\\\"virtualize\\\"\\n      [virtualizeOffset]=\\\"virtualizeOffset\\\"\\n      [emojiIsNative]=\\\"isNative\\\"\\n      [emojiSkin]=\\\"skin\\\"\\n      [emojiSize]=\\\"emojiSize\\\"\\n      [emojiSet]=\\\"set\\\"\\n      [emojiSheetSize]=\\\"sheetSize\\\"\\n      [emojiForceSize]=\\\"isNative\\\"\\n      [emojiTooltip]=\\\"emojiTooltip\\\"\\n      [emojiBackgroundImageFn]=\\\"backgroundImageFn\\\"\\n      [emojiImageUrlFn]=\\\"imageUrlFn\\\"\\n      [emojiUseButton]=\\\"useButton\\\"\\n      (emojiOver)=\\\"handleEmojiOver($event)\\\"\\n      (emojiLeave)=\\\"handleEmojiLeave()\\\"\\n      (emojiClick)=\\\"handleEmojiClick($event)\\\"\\n    ></emoji-category>\\n  </section>\\n  <div class=\\\"emoji-mart-bar\\\" *ngIf=\\\"showPreview\\\">\\n    <emoji-preview\\n      [title]=\\\"title\\\"\\n      [emoji]=\\\"previewEmoji\\\"\\n      [idleEmoji]=\\\"emoji\\\"\\n      [emojiIsNative]=\\\"isNative\\\"\\n      [emojiSize]=\\\"38\\\"\\n      [emojiSkin]=\\\"skin\\\"\\n      [emojiSet]=\\\"set\\\"\\n      [i18n]=\\\"i18n\\\"\\n      [emojiSheetSize]=\\\"sheetSize\\\"\\n      [emojiBackgroundImageFn]=\\\"backgroundImageFn\\\"\\n      [emojiImageUrlFn]=\\\"imageUrlFn\\\"\\n      (skinChange)=\\\"handleSkinChange($event)\\\"\\n    ></emoji-preview>\\n  </div>\\n</section>\\n\" }]\n        }], ctorParameters: function () {\n        return [{ type: i0.NgZone }, { type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: EmojiFrequentlyService }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [PLATFORM_ID]\n                    }] }];\n    }, propDecorators: { perLine: [{\n                type: Input\n            }], totalFrequentLines: [{\n                type: Input\n            }], i18n: [{\n                type: Input\n            }], style: [{\n                type: Input\n            }], title: [{\n                type: Input\n            }], emoji: [{\n                type: Input\n            }], darkMode: [{\n                type: Input\n            }], color: [{\n                type: Input\n            }], hideObsolete: [{\n                type: Input\n            }], categories: [{\n                type: Input\n            }], activeCategories: [{\n                type: Input\n            }], set: [{\n                type: Input\n            }], skin: [{\n                type: Input\n            }], isNative: [{\n                type: Input\n            }], emojiSize: [{\n                type: Input\n            }], sheetSize: [{\n                type: Input\n            }], emojisToShowFilter: [{\n                type: Input\n            }], showPreview: [{\n                type: Input\n            }], emojiTooltip: [{\n                type: Input\n            }], autoFocus: [{\n                type: Input\n            }], custom: [{\n                type: Input\n            }], hideRecent: [{\n                type: Input\n            }], imageUrlFn: [{\n                type: Input\n            }], include: [{\n                type: Input\n            }], exclude: [{\n                type: Input\n            }], notFoundEmoji: [{\n                type: Input\n            }], categoriesIcons: [{\n                type: Input\n            }], searchIcons: [{\n                type: Input\n            }], useButton: [{\n                type: Input\n            }], enableFrequentEmojiSort: [{\n                type: Input\n            }], enableSearch: [{\n                type: Input\n            }], showSingleCategory: [{\n                type: Input\n            }], virtualize: [{\n                type: Input\n            }], virtualizeOffset: [{\n                type: Input\n            }], recent: [{\n                type: Input\n            }], emojiClick: [{\n                type: Output\n            }], emojiSelect: [{\n                type: Output\n            }], skinChange: [{\n                type: Output\n            }], scrollRef: [{\n                type: ViewChild,\n                args: ['scrollRef', { static: true }]\n            }], previewRef: [{\n                type: ViewChild,\n                args: [PreviewComponent, { static: false }]\n            }], searchRef: [{\n                type: ViewChild,\n                args: [SearchComponent, { static: false }]\n            }], categoryRefs: [{\n                type: ViewChildren,\n                args: [CategoryComponent]\n            }], backgroundImageFn: [{\n                type: Input\n            }] } });\n\nclass PickerModule {\n}\nPickerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: PickerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nPickerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: PickerModule, declarations: [PickerComponent,\n        AnchorsComponent,\n        CategoryComponent,\n        SearchComponent,\n        PreviewComponent,\n        SkinComponent], imports: [CommonModule, FormsModule, EmojiModule], exports: [PickerComponent,\n        AnchorsComponent,\n        CategoryComponent,\n        SearchComponent,\n        PreviewComponent,\n        SkinComponent] });\nPickerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: PickerModule, imports: [[CommonModule, FormsModule, EmojiModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: PickerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, FormsModule, EmojiModule],\n                    exports: [\n                        PickerComponent,\n                        AnchorsComponent,\n                        CategoryComponent,\n                        SearchComponent,\n                        PreviewComponent,\n                        SkinComponent,\n                    ],\n                    declarations: [\n                        PickerComponent,\n                        AnchorsComponent,\n                        CategoryComponent,\n                        SearchComponent,\n                        PreviewComponent,\n                        SkinComponent,\n                    ],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AnchorsComponent, CategoryComponent, EmojiFrequentlyService, EmojiSearch, PickerComponent, PickerModule, PreviewComponent, SearchComponent, SkinComponent };\n"]},"metadata":{},"sourceType":"module"}